{
  "hash": "b4ac7d2d5c7c2c7b17a503833db7e6e0",
  "result": {
    "markdown": "# Prospect theory implementation\n\nUnder Prospect theory, people evaluate the utility of a prospect by two phases: editing and evaluation.\n\n## Editing\n\nEditing involves simplification of prospects for subsequent evaluation.\n\n@kahneman1979 describes the editing phase as having four main operations:\n\n-   Coding: People perceive outcomes as gains or losses relative to some neutral reference position. The reference point is may be the status quo or some other expectation of agent.\n\n-   Combination: Prospects are simplified by combining probabilities for identical outcomes: (200, 0.25; 200, 0.25) will become (200, 0.50).\n\n-   Segregation: Riskless components are segregated out from risky components. For example (300, 0.80; 200, 0.20) corresponds to a a sure gain of 200 and the risky gamble (100, 0.80).\n\n-   Cancellation: Components that are shared by two prospects are ignored.\n\n## Evaluation\n\nIn the evaluation phase the prospects are evaluated and the option with the highest value chosen.\n\nThe value of a prospect is made up of:\n\n1\\. a decision weight applied to each probability $\\pi(p_i)$\n\n2\\. the subjective value of each outcome $v(x_i)$\n\nThese are applied through the following formula (often called the value function):\n\n\n```{=tex}\n\\begin{align*}\nV(X)&=\\sum_{i=1}^n\\pi(p_i)v(x_i)\\\\[6pt]\n&=\\pi(p_1)v(x_1)+\\pi(p_2)v(x_2)+...+\\pi(p_n)v(x_n)\n\\end{align*}\n```\n\n\nWhere $V(X)$ is the expected value of the outcomes from gamble $X$.\n\nThe following diagrams illustrate the different shapes of the expected utility function and the Prospect Theory value function.\n\nThe expected utility function has diminishing marginal utility as utility increases. Utility is measured from a base reference point.\n\n\n::: {.cell}\n\n```{.r .cell-code}\nlibrary(ggplot2)\ndf <- data.frame(\n  x = seq(0.05,20,0.05),\n  y=NA\n)\ndf$y <- log(df$x)\n\nggplot(mapping = aes(x, y))+\n  geom_line(data = df)+ \n  geom_vline(xintercept = 0, size=0.25)+ \n  geom_hline(yintercept = 0, size=0.25)+\n  labs(x = \"\", y = \"U(X)\")\n```\n\n::: {.cell-output-display}\n![](prospect-theory-implementation_files/figure-html/unnamed-chunk-1-1.png){width=672}\n:::\n:::\n\n\nFor the prospect theory function, you can see the kink at zero, with losses weighted more heavily than gains, with gains and losses determined relative to a reference point. There is diminishing sensitivity to further changes in both directions\n\n\n::: {.cell}\n\n```{.r .cell-code}\nloss_fun <- function(x){\n  -2*(-x)^0.5\n}\ngain_fun <- function(x){\n  x^0.5\n}\n\nloss <- data.frame(\n  x=seq(-10,0,0.05),\n  y=NA\n  )\nloss$y <- loss_fun(loss$x)\n\ngain <- data.frame(\n  x=seq(0,10,0.05),\n  y=NA\n  )\ngain$y <- gain_fun(gain$x)\n\nggplot(mapping = aes(x, y)) +\n  geom_line(data = loss) +\n  geom_line(data = gain) + \n  geom_vline(xintercept = 0, size=0.25)+ \n  geom_hline(yintercept = 0, size=0.25)+\n  labs(x = \"\", y = \"V(X)\")\n```\n\n::: {.cell-output-display}\n![](prospect-theory-implementation_files/figure-html/unnamed-chunk-2-1.png){width=672}\n:::\n:::\n\n\n## Fourfold pattern of risk attitudes\n\nProspect theory results in a four-fold pattern of risk attitudes, as shown in this table. For moderate to high probability gambles, the reflection effect dominates and people are risk averse in the domain of gains and risk seeking in the domain of losses.\n\nBut for low probability gambles, the probability weighting shifts the decision calculus. The possibility of a gain is overweighted, making the gamble attractive and inducing risk seeking behaviour. A similar effect occurs for a low probability of loss, with the overweighted probability making the potential loss less attractive, inducing risk averse behaviour.\n\n|                                          | Gains         | Losses        |\n|------------------------------------------|---------------|---------------|\n| **Medium to high probability**           | Risk aversion | Risk seeking  |\n| **Low probability** (possibility effect) | Rick seeking  | Risk aversion |\n",
    "supporting": [
      "prospect-theory-implementation_files/figure-html"
    ],
    "filters": [
      "rmarkdown/pagebreak.lua"
    ],
    "includes": {},
    "engineDependencies": {},
    "preserve": {},
    "postProcess": true
  }
}