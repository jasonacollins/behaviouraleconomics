{
  "hash": "4fefd056326077f9bb4ddbc01788a586",
  "result": {
    "engine": "knitr",
    "markdown": "# Prospect theory examples\n\n## Mathematical examples\n\n### Summary {.unnumbered}\n\n- In the following mathematical examples, I demonstrate the operation of prospect theory through various scenarios, illustrating how individuals make decisions under uncertainty based on reference points, loss aversion, and diminishing sensitivity to gains and losses.\n- The 50:50 gamble demonstrates loss aversion, with losses weighted more heavily than equivalent gains.\n- The 60:40 gamble shows how diminishing sensitivity and loss aversion interact to influence decision-making.\n- The gamble in the gain domain illustrates the reflection effect, where individuals are risk-averse for gains but become risk-seeking for losses.\n- Changes in wealth or reference points can significantly alter risk preferences, as shown in the examples of accepting or rejecting gambles after losses or wins.\n\n::: {.content-visible when-format=\"html\"}\n\n\n\n\n\n\n{{< video https://youtu.be/9KZZlq1yTaA >}}\n\n\n\n\n\n\n\n\n\n\n---\n\n:::\n\nIn this section, I present a series of mathematical examples of prospect theory.\n\n### A 50:50 gamble\n\nSuppose Alby has the following reference-dependent value function:\n\n$$\nv(x)=\\left\\{\\begin{matrix}\nx^\\frac{1}{2} \\qquad &\\textrm{where} \\space x \\geq 0\\\\[6pt]\n-2(-x)^\\frac{1}{2} \\quad &\\textrm{where} \\space x < 0 \n\\end{matrix}\\right.\n$$\n\n$x$ is the realised outcome relative to the reference point.\n\nAssume that Alby’s reference point is the status quo and that he weights outcomes linearly.\n\nAlby is offered the gamble A:\n\n$$\n(0.5, \\$110; 0.5, −\\$100)\n$$\n\n#### Accept or reject? {.unnumbered}\n\nWill Alby want to play this gamble?\n\nTo determine this, we compare the weighted value of the gamble with the weighted value of rejecting the offer.\n\nThe weighted value of the gamble is:\n\n\\begin{align*}\nV(A)&=p_1v(x_1)+p_2v(x_2) \\\\[6pt]\n&=0.5\\times v(110)+0.5\\times v(-100) \\\\[6pt]\n&=0.5\\times (110)^\\frac{1}{2}-0.5\\times 2\\times (100)^\\frac{1}{2} \\\\[6pt]\n&=-4.76\n\\end{align*}\n\nAlby will not want to play this gamble as it has a negative value. He could receive a weighted value of 0 by simply not playing.\n\nThe reason for this negative value is that Alby is loss averse. The loss of \\$100 is given twice the weight of an equivalent gain.\n\nThe following chart illustrates. The horizontal axis is the outcome $x$ relative to the reference point. The vertical axis is the value of each outcome. The S-shaped curve represents Alby's value function, with a concave curve in the game domain and a convex curve in the loss domain. The curve is steeper in the loss domain, due to loss aversion.\n\nThe gain of $110 and the loss of $100 and their respective values are marked.\n\nI have drawn a straight line between the two outcomes. The weighted value of the two outcomes will be on this line.\n\nAs the probability of each outcome is 50 percent, the expected value of A, \\$5, is halfway between the two outcomes. If we project to the straight line from the expected value, we get $V(A)$, a probability-weighted average of the two possible outcomes from the bet. $V(A)$ is negative, indicating that the gamble has a lower weighted value than remaining at the status quo. \n\n\n\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\nlibrary(ggplot2)\n\nu <- function(x){\n  ifelse (x >= 0, x^0.5, -2*(-x)^0.5)\n}\n\ndf <- data.frame(\n  x = seq(-220, 220, 0.1),\n  y = u(seq(-220, 220, 0.1))\n)\n\n#Variables for plot (may not match labels as not done to scale)\n#Payoffs from gamble\nx1 <- -200 #loss\nx2 <- 220 #win\nev <- 10 #expected value of gamble\nxc <- 0 #certain outcome\npx2<-(ev-x1)/(x2-x1)\n\nggplot(mapping = aes(x, y)) +\n\n  #Plot the utility curve\n  geom_line(data = df) +\n  geom_vline(xintercept = 0, linewidth=0.25)+ \n  geom_hline(yintercept = 0, linewidth=0.25)+\n  labs(x = \"x\", y = \"v(x)\")+\n\n  # Set the theme\n  theme_minimal()+\n\n  #remove numbers on each axis\n  theme(axis.text.x = element_blank(),\n            axis.text.y = element_blank(),\n            axis.title=element_text(size=14,face=\"bold\"),\n            axis.title.y = element_text(angle=0, vjust=0.5))+\n\n  #limit to y greater than zero and x greater than -8 (need -8 so space for y-axis labels)\n  coord_cartesian(xlim = c(-220, 220), ylim = c(-30, 15))+\n\n  #Add labels -100, v(-100) and line to curve indicating each\n  annotate(\"text\", x = x1, y = 0, label = \"-100\", size = 4, hjust = 0.5, vjust = -0.5)+\n  annotate(\"segment\", x = x1, y = 0, xend = x1, yend = u(x1), linewidth = 0.5, colour = \"black\", linetype=\"dotted\")+\n  annotate(\"segment\", x = 0, y = u(x1), xend = x1, yend = u(x1), linewidth = 0.5, colour = \"black\", linetype=\"dotted\")+\n  annotate(\"text\", x = 0, y = u(x1), label = \"v(-100)\", size = 4, hjust = -0.1, vjust = 0.45)+\n\n  #Add expected utility line\n  annotate(\"segment\", x = x1, xend = x2, y = u(x1), yend = u(x2), linewidth = 0.5, colour = \"black\", linetype=\"dotdash\")+\n\n  #Add labels 110, v(110) and line to curve indicating each\n  annotate(\"text\", x = x2, y = 0, label = \"110\", size = 4, hjust = 0.4, vjust = 1.5)+\n  annotate(\"segment\", x = x2, y = 0, xend = x2, yend = u(x2), linewidth = 0.5, colour = \"black\", linetype=\"dotted\")+\n  annotate(\"segment\", x = 0, y = u(x2), xend = x2, yend = u(x2), linewidth = 0.5, colour = \"black\", linetype=\"dotted\")+\n  annotate(\"text\", x = 0, y = u(x2), label = \"v(110)\", size = 4, hjust = 1.05, vjust = 0.45)+\n\n  #Add labels E[A], V(A) and curve indicating each\n  annotate(\"text\", x = ev, y = 0, label = \"E[A]\", size = 4, hjust = 0.3, vjust = -0.5)+\n  annotate(\"segment\", x = ev, y = 0, xend = ev, yend = u(x1)+(u(x2)-u(x1))*px2, linewidth = 0.5, colour = \"black\", linetype=\"dashed\")+\n  annotate(\"segment\", x = 0, y = u(x1)+(u(x2)-u(x1))*px2, xend = ev, yend = u(x1)+(u(x2)-u(x1))*px2, linewidth = 0.5, colour = \"black\", linetype=\"dashed\")+\n  annotate(\"text\", x = 0, y = u(x1)+(u(x2)-u(x1))*px2, label = \"V(A)\", size = 4, hjust = 1.05, vjust = 0.45)\n```\n\n::: {.cell-output-display}\n![A 50:50 gamble](prospect-theory-examples_files/figure-html/fig-50-50-gamble-1.png){#fig-50-50-gamble width=672}\n:::\n:::\n\n\n\n\n\n\n#### Accept or reject after loss? {.unnumbered}\n\nSuppose Alby loses his wallet containing \\$100. He feels bad about it and perceives it as a loss. His reference point is unchanged at the original status quo, but the amount of money he will have after any outcome is \\$100 less than otherwise. Would he be willing to take gamble A now?\n\nAfter losing \\$100 but not changing his reference point, he has two possible outcomes relative to his reference point: a gain of \\$10 (winning \\$110 minus the lost money in the wallet) and a loss of \\$200 (losing \\$100 and also losing his wallet).\n\n![](img/50-50-with-loss.png)\n\nThe weighted value of gamble A is now:\n\n\\begin{align*}\nV(A)&=p_1v(x_1)+p_2v(x_2) \\\\[6pt]\n&=0.5\\times v(110-100)+0.5\\times v(-100-100) \\\\[6pt]\n&=0.5\\times (10)^\\frac{1}{2}-0.5\\times 2\\times (200)^\\frac{1}{2} \\\\[6pt]\n&=-12.56\n\\end{align*}\n\nThe value of not playing the gamble involves remaining with a loss of \\$100:\n\n\\begin{align*}\nV(\\neg A)&=v(-100) \\\\[6pt]\n&=-2\\times (100)^\\frac{1}{2} \\\\[6pt]\n&=-20\n\\end{align*}\n\nHe will now want to play the gamble as it has a greater value than staying with his current loss. The gamble becomes attractive as it allows recovery of the loss. Alby is risk seeking in the loss domain. (He would even accept a 50:50 gamble to win or lose \\$100 with an expected value of zero.)\n\nThe choice is illustrated in the following chart. The two possible outcomes, $200 below the reference point and $10 above the reference point, plus their values, are marked. The weighted value of those two possible outcomes is also marked, with the expected value, E of A, projected onto the line between the two outcomes to give $V(A)$\n\nIt is visually apparent that $V(A)$ is above the value of a loss of $100, the outcome if Alby does not accept the gamble. As a result, Alby wants to accept the gamble.\n\n\n\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\nlibrary(ggplot2)\n\nu <- function(x){\n  ifelse (x >= 0, x^0.5, -2*(-x)^0.5)\n}\n\ndf <- data.frame(\n  x = seq(-220, 220, 0.1),\n  y = u(seq(-220, 220, 0.1))\n)\n\n#Variables for plot (may not match labels as not done to scale)\n#Payoffs from gamble\nx1 <- -200 #loss\nx2 <- 10 #win\nev <- -95 #expected value of gamble\nxc <- -100 #certain outcome\npx2<-(ev-x1)/(x2-x1)\n\nggplot(mapping = aes(x, y)) +\n\n  #Plot the utility curve\n  geom_line(data = df) +\n  geom_vline(xintercept = 0, linewidth=0.25)+ \n  geom_hline(yintercept = 0, linewidth=0.25)+\n  labs(x = \"x\", y = \"v(x)\")+\n\n  # Set the theme\n  theme_minimal()+\n\n  #remove numbers on each axis\n  theme(axis.text.x = element_blank(),\n            axis.text.y = element_blank(),\n            axis.title=element_text(size=14,face=\"bold\"),\n            axis.title.y = element_text(angle=0, vjust=0.5))+\n\n  #limit to y greater than zero and x greater than -8 (need -8 so space for y-axis labels)\n  coord_cartesian(xlim = c(-220, 220), ylim = c(-30, 15))+\n\n  #Add labels -200, v(-200) and line to curve indicating each\n  annotate(\"text\", x = x1, y = 0, label = \"-200\", size = 4, hjust = 0.5, vjust = -0.5)+\n  annotate(\"segment\", x = x1, y = 0, xend = x1, yend = u(x1), linewidth = 0.5, colour = \"black\", linetype=\"dotted\")+\n  annotate(\"segment\", x = 0, y = u(x1), xend = x1, yend = u(x1), linewidth = 0.5, colour = \"black\", linetype=\"dotted\")+\n  annotate(\"text\", x = 0, y = u(x1), label = \"v(-200)\", size = 4, hjust = -0.2, vjust = 0.6)+\n\n  #Add labels -100, v(-100) and line to curve indicating each\n  annotate(\"text\", x = xc, y = 0, label = \"-100\", size = 4, hjust = 0.9, vjust = -0.5)+\n  annotate(\"segment\", x = xc, y = 0, xend = xc, yend = u(xc), linewidth = 0.5, colour = \"black\", linetype=\"dotted\")+\n  annotate(\"segment\", x = 0, y = u(xc), xend = xc, yend = u(xc), linewidth = 0.5, colour = \"black\", linetype=\"dotted\")+\n  annotate(\"text\", x = 0, y = u(xc), label = \"v(-100)\", size = 4, hjust = -0.2, vjust = 0.3)+\n\n  #Add expected utility line\n  annotate(\"segment\", x = x1, xend = x2, y = u(x1), yend = u(x2), linewidth = 0.5, colour = \"black\", linetype=\"dotdash\")+\n\n  #Add labels 10, v(10) and line to curve indicating each\n  annotate(\"text\", x = x2, y = 0, label = \"10\", size = 4, hjust = 0.4, vjust = 1.5)+\n  annotate(\"segment\", x = x2, y = 0, xend = x2, yend = u(x2), linewidth = 0.5, colour = \"black\", linetype=\"dotted\")+\n  annotate(\"segment\", x = 0, y = u(x2), xend = x2, yend = u(x2), linewidth = 0.5, colour = \"black\", linetype=\"dotted\")+\n  annotate(\"text\", x = 0, y = u(x2), label = \"v(10)\", size = 4, hjust = 1.05, vjust = 0.45)+\n\n  #Add labels E[A], V(A) and curve indicating each\n  annotate(\"text\", x = ev, y = 0, label = \"E[A]\", size = 4, hjust = 0, vjust = -0.5)+\n  annotate(\"segment\", x = ev, y = 0, xend = ev, yend = u(x1)+(u(x2)-u(x1))*px2, linewidth = 0.5, colour = \"black\", linetype=\"dashed\")+\n  annotate(\"segment\", x = 0, y = u(x1)+(u(x2)-u(x1))*px2, xend = ev, yend = u(x1)+(u(x2)-u(x1))*px2, linewidth = 0.5, colour = \"black\", linetype=\"dashed\")+\n  annotate(\"text\", x = 0, y = u(x1)+(u(x2)-u(x1))*px2, label = \"V(A)\", size = 4, hjust = -0.2, vjust = 0.45)\n```\n\n::: {.cell-output-display}\n![A 50:50 gamble after a loss](prospect-theory-examples_files/figure-html/fig-50-50-gamble-after-loss-1.png){#fig-50-50-gamble-after-loss width=672}\n:::\n:::\n\n\n\n\n\n\n#### Accept or reject after adaptation to loss? {.unnumbered}\n\nAlby has now adapted to his loss of \\$100. The new reference point is the new wealth level incorporating the loss wallet. Would he take gamble A now?\n\nWe are now back to an identical situation as when he was first offered the gamble with his reference point as the status quo. He will not want to partake in the gamble.\n\n#### Accept or reject after a win? {.unnumbered}\n\nAlby wins \\$10,000 at the casino. He feels good about his win, so his reference point remains at his wealth excluding the win. Would he take gamble A now?\n\nWith the additional \\$10,000, the value of the gamble is:\n\n\\begin{align*}\nV(A)&=p_1v(x_1)+p_2v(x_2) \\\\[6pt]\n&=0.5\\times v(10000+110)+0.5\\times v(10000-100) \\\\[6pt]\n&=0.5\\times (10110)^\\frac{1}{2}+0.5\\times (9900)^\\frac{1}{2} \\\\[6pt]\n&=100.02\n\\end{align*}\n\nThe value of not playing the gamble is:\n\n\\begin{align*}\nV(\\neg A)&=v(10000) \\\\[6pt]\n&=10000^\\frac{1}{2} \\\\[6pt]\n&=100\n\\end{align*}\n\nThe gamble is now attractive. Alby is less risk averse at a higher wealth. Further, the gamble is entirely in the gain domain, meaning that loss aversion does not affect the decision.\n\nThe following chart, not drawn to scale, illustrates. Alby becomes increasingly risk neutral as we move further into the gain domain. You can see this through the value function curve becoming approximately straight. As a result, at a high enough wealth, the positive value bet becomes attractive. $V(A)$ is above the value of the certain outcome, $V(10000)$.\n\n\n\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\nlibrary(ggplot2)\n\nu <- function(x){\n  ifelse (x >= 0, x^0.5, -2*(-x)^0.5)\n}\n\ndf <- data.frame(\n  x = seq(-220, 1000, 0.1),\n  y = u(seq(-220, 1000, 0.1))\n)\n\n#Variables for plot (may not match labels as not done to scale)\n#Payoffs from gamble\nx1 <- 560 #loss\nx2 <- 1000 #win\nev <- 800 #expected value of gamble\nxc <- 780 #certain outcome\npx2<-(ev-x1)/(x2-x1)\n\nggplot(mapping = aes(x, y)) +\n\n  #Plot the utility curve\n  geom_line(data = df) +\n  geom_vline(xintercept = 0, linewidth=0.25)+ \n  geom_hline(yintercept = 0, linewidth=0.25)+\n  labs(x = \"x\", y = \"v(x)\")+\n\n  # Set the theme\n  theme_minimal()+\n\n  #remove numbers on each axis\n  theme(axis.text.x = element_blank(),\n            axis.text.y = element_blank(),\n            axis.title=element_text(size=14,face=\"bold\"),\n            axis.title.y = element_text(angle=0, vjust=0.5))+\n\n  #limit to y greater than zero and x greater than -8 (need -8 so space for y-axis labels)\n  coord_cartesian(xlim = c(-220, 1000), ylim = c(-30, 30))+\n\n  #Add labels 9,900, v(9,900) and line to curve indicating each\n  annotate(\"text\", x = x1, y = 0, label = \"9,900\", size = 4, hjust = 0.5, vjust = 1.5)+\n  annotate(\"segment\", x = x1, y = 0, xend = x1, yend = u(x1), linewidth = 0.5, colour = \"black\", linetype=\"dotted\")+\n  annotate(\"segment\", x = 0, y = u(x1), xend = x1, yend = u(x1), linewidth = 0.5, colour = \"black\", linetype=\"dotted\")+\n  annotate(\"text\", x = 0, y = u(x1), label = \"v(9,900)\", size = 4, hjust = 1.05, vjust = 0.6)+\n\n  #Add labels 10,000, v(10,000) and line to curve indicating each\n  annotate(\"text\", x = xc, y = 0, label = \"10,000\", size = 4, hjust = 0.9, vjust = 1.5)+\n  annotate(\"segment\", x = xc, y = 0, xend = xc, yend = u(xc), linewidth = 0.5, colour = \"black\", linetype=\"dotted\")+\n  annotate(\"segment\", x = 0, y = u(xc), xend = xc, yend = u(xc), linewidth = 0.5, colour = \"black\", linetype=\"dotted\")+\n  annotate(\"text\", x = 0, y = u(xc), label = \"v(10,000)\", size = 4, hjust = 1.05, vjust = 1.2)+\n\n  #Add expected utility line\n  annotate(\"segment\", x = x1, xend = x2, y = u(x1), yend = u(x2), linewidth = 0.5, colour = \"black\", linetype=\"dotdash\")+\n\n  #Add labels 10,110, v(10,110) and line to curve indicating each\n  annotate(\"text\", x = x2, y = 0, label = \"10,110\", size = 4, hjust = 0.4, vjust = 1.5)+\n  annotate(\"segment\", x = x2, y = 0, xend = x2, yend = u(x2), linewidth = 0.5, colour = \"black\", linetype=\"dotted\")+\n  annotate(\"segment\", x = 0, y = u(x2), xend = x2, yend = u(x2), linewidth = 0.5, colour = \"black\", linetype=\"dotted\")+\n  annotate(\"text\", x = 0, y = u(x2), label = \"v(10,110)\", size = 4, hjust = 1.05, vjust = 0.45)+\n\n  #Add labels E[A], V(A) and curve indicating each\n  annotate(\"text\", x = ev, y = 0, label = \"E[A]\", size = 4, hjust = 0, vjust = 1.5)+\n  annotate(\"segment\", x = ev, y = 0, xend = ev, yend = u(x1)+(u(x2)-u(x1))*px2, linewidth = 0.5, colour = \"black\", linetype=\"dashed\")+\n  annotate(\"segment\", x = 0, y = u(x1)+(u(x2)-u(x1))*px2, xend = ev, yend = u(x1)+(u(x2)-u(x1))*px2, linewidth = 0.5, colour = \"black\", linetype=\"dashed\")+\n  annotate(\"text\", x = 0, y = u(x1)+(u(x2)-u(x1))*px2, label = \"V(A)\", size = 4, hjust = 1.05, vjust = 0)\n```\n\n::: {.cell-output-display}\n![A 50:50 gamble after a win (not to scale)](prospect-theory-examples_files/figure-html/fig-50-50-gamble-after-win-1.png){#fig-50-50-gamble-after-win width=672}\n:::\n:::\n\n\n\n\n\n\n### A 60:40 gamble\n\nPaddy makes decisions in accordance with prospect theory, has wealth \\$300 and value function:\n\n$$\nv(x)=\\left\\{\\begin{matrix}\nx^{\\frac{1}{2}} \\quad &\\textrm{where} \\quad x \\geq 0 \\\\[6pt]\n-2(-x)^{\\frac{1}{2}} \\quad &\\textrm{where} \\quad x < 0 \n\\end{matrix}\\right.\n$$\n\nAssume Paddy weights probabilities linearly.\n\nPaddy is offered the following bet A:\n\n- a 60% probability to win \\$150\n- a 40% probability to lose \\$100.\n\n#### Accept or reject {.unnumbered}\n\nDoes Paddy accept bet A?\n\nPaddy compares the value of taking versus not taking the bet:\n\n\\begin{align*}\nV(\\text{A})&=p_1v(x_1)+p_2v(x_2) \\\\[6pt]\n&=0.6\\times v(150)+0.4\\times v(-100) \\\\[6pt]\n&=0.6\\times (150)^{\\frac{1}{2}}-0.4\\times 2\\times (100)^{\\frac{1}{2}} \\\\[6pt]\n&=-0.652\n\\end{align*}\n\nThe value of not taking the bet is zero. Paddy would have no change from his reference point.\n\nPaddy rejects the bet as $V(A)$ is less than the $V(0)=0$ that Paddy could get by simply rejecting the bet. He rejects the bet due to his loss aversion and diminishing sensitivity to gains. The loss is weighted double that of an equivalent gain, outweighing both the larger potential gain and 60% probability.\n\nThe following figure shows Paddy's value function, the bets and the value of the bets. The figure illustrates that Paddy's rejection is caused by both Paddy's loss aversion and his diminishing sensitivity in the gain domain, which has a larger effect than the diminishing sensitivity in the loss domain due to the larger magnitude of the potential gain.\n\n\n\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\nlibrary(ggplot2)\n\nu <- function(x){\n  ifelse (x >= 0, x^0.5, -2*(-x)^0.5)\n}\n\ndf <- data.frame(\n  x = seq(-110, 160, 0.1),\n  y = u(seq(-110, 160, 0.1))\n)\n\n#Variables for plot (may not match labels as not done to scale)\n#Payoffs from gamble\nx1 <- -100 #loss\nx2 <- 150 #win\nev <- 0.6*150-0.4*100 #expected value of gamble\nxc <- 0 #certain outcome\npx2<-(ev-x1)/(x2-x1)\n\nggplot(mapping = aes(x, y)) +\n\n  #Plot the utility curve\n  geom_line(data = df) +\n  geom_vline(xintercept = 0, linewidth=0.25)+ \n  geom_hline(yintercept = 0, linewidth=0.25)+\n  labs(x = \"x\", y = \"v(x)\")+\n\n  # Set the theme\n  theme_minimal()+\n\n  #remove numbers on each axis\n  theme(axis.text.x = element_blank(),\n            axis.text.y = element_blank(),\n            axis.title=element_text(size=14,face=\"bold\"),\n            axis.title.y = element_text(angle=0, vjust=0.5))+\n\n  #limit to y greater than zero and x greater than -8 (need -8 so space for y-axis labels)\n  coord_cartesian(xlim = c(-110, 160), ylim = c(-25, 15))+\n\n  #Add labels -100, v(-100) and line to curve indicating each\n  annotate(\"text\", x = x1, y = 0, label = \"-100\", size = 4, hjust = 0.5, vjust = -0.5)+\n  annotate(\"segment\", x = x1, y = 0, xend = x1, yend = u(x1), linewidth = 0.5, colour = \"black\", linetype=\"dotted\")+\n  annotate(\"segment\", x = 0, y = u(x1), xend = x1, yend = u(x1), linewidth = 0.5, colour = \"black\", linetype=\"dotted\")+\n  annotate(\"text\", x = 0, y = u(x1), label = \"v(-100)\", size = 4, hjust = -0.1, vjust = 0.45)+\n\n  #Add expected utility line\n  annotate(\"segment\", x = x1, xend = x2, y = u(x1), yend = u(x2), linewidth = 0.5, colour = \"black\", linetype=\"dotdash\")+\n\n  #Add labels 150, v(150) and line to curve indicating each\n  annotate(\"text\", x = x2, y = 0, label = \"150\", size = 4, hjust = 0.4, vjust = 1.5)+\n  annotate(\"segment\", x = x2, y = 0, xend = x2, yend = u(x2), linewidth = 0.5, colour = \"black\", linetype=\"dotted\")+\n  annotate(\"segment\", x = 0, y = u(x2), xend = x2, yend = u(x2), linewidth = 0.5, colour = \"black\", linetype=\"dotted\")+\n  annotate(\"text\", x = 0, y = u(x2), label = \"v(150)\", size = 4, hjust = 1.05, vjust = 0.45)+\n\n  #Add labels E[A], V(A) and curve indicating each\n  annotate(\"text\", x = ev, y = 0, label = \"E[A]\", size = 4, hjust = 0.4, vjust = -0.5)+\n  annotate(\"segment\", x = ev, y = 0, xend = ev, yend = u(x1)+(u(x2)-u(x1))*px2, linewidth = 0.5, colour = \"black\", linetype=\"dashed\")+\n  annotate(\"segment\", x = 0, y = u(x1)+(u(x2)-u(x1))*px2, xend = ev, yend = u(x1)+(u(x2)-u(x1))*px2, linewidth = 0.5, colour = \"black\", linetype=\"dashed\")+\n  annotate(\"text\", x = 0, y = u(x1)+(u(x2)-u(x1))*px2, label = \"V(A)\", size = 4, hjust = 1.05, vjust = 0.45)\n```\n\n::: {.cell-output-display}\n![A 60:40 gamble](prospect-theory-examples_files/figure-html/fig-60-40-gamble-1.png){#fig-60-40-gamble width=672}\n:::\n:::\n\n\n\n\n\n\n#### Accept or reject after a loss? {.unnumbered}\n\nFollowing some bad economic news, Paddy's wealth declines to \\$150. Paddy cannot get over the loss, so his reference point remains his former wealth of \\$300.\n\nPaddy is offered bet A again. Does Paddy accept the bet?\n\nAs Paddy is now in the loss domain, the two potential outcomes from the bet are a gain of \\$0 and a loss of \\$250. His alternative is remaining at a point \\$150 below his reference point.\n\n![](img/60-40-after-loss.png)\n\nPaddy compares the value of taking versus not taking the bet:\n\n\\begin{align*}\nV(\\text{A})&=p_1v(x_1)+p_2v(x_2) \\\\[6pt]\n&=0.6\\times v(-150+150)+0.4\\times v(-150-100) \\\\[6pt]\n&=0.6\\times (0)^{\\frac{1}{2}}-0.4\\times 2\\times (250)^{\\frac{1}{2}} \\\\[6pt]\n&=-12.649 \\\\\n\\\\\nV(\\neg\\text{A})&=v(-150) \\\\[6pt]\n&=-2\\times (150)^{\\frac{1}{2}} \\\\[6pt]\n&=-24.495\n\\end{align*}\n\nPaddy accepts the bet as $V(A)$ is greater than the value of the certain loss of \\$150.\n\nThe following figure shows Paddy's value function, the bets and the value of the bets. The figure shows that Paddy accepts the bet as he is risk seeking in the loss domain. The potential loss of another \\$100 results in a smaller incremental loss of value than an equivalent win of $100.\n\n\n\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\nlibrary(ggplot2)\n\nu <- function(x){\n  ifelse (x >= 0, x^0.5, -2*(-x)^0.5)\n}\n\ndf <- data.frame(\n  x = seq(-260, 100, 0.1),\n  y = u(seq(-260, 100, 0.1))\n)\n\n#Variables for plot (may not match labels as not done to scale)\n#Payoffs from gamble\nx1 <- -250 #loss\nx2 <- 0 #win\nev <- -100 #expected value of gamble\nxc <- -150 #certain outcome\npx2<-(ev-x1)/(x2-x1)\n\nggplot(mapping = aes(x, y)) +\n\n  #Plot the utility curve\n  geom_line(data = df) +\n  geom_vline(xintercept = 0, linewidth=0.25)+ \n  geom_hline(yintercept = 0, linewidth=0.25)+\n  labs(x = \"x\", y = \"v(x)\")+\n\n  # Set the theme\n  theme_minimal()+\n\n  #remove numbers on each axis\n  theme(axis.text.x = element_blank(),\n            axis.text.y = element_blank(),\n            axis.title=element_text(size=14,face=\"bold\"),\n            axis.title.y = element_text(angle=0, vjust=0.5))+\n\n  #limit to y greater than zero and x greater than -8 (need -8 so space for y-axis labels)\n  coord_cartesian(xlim = c(-260, 100), ylim = c(-35, 5))+\n\n  #Add labels -250, v(-250) and line to curve indicating each\n  annotate(\"text\", x = x1, y = 0, label = \"-250\", size = 4, hjust = 0.5, vjust = -0.5)+\n  annotate(\"segment\", x = x1, y = 0, xend = x1, yend = u(x1), linewidth = 0.5, colour = \"black\", linetype=\"dotted\")+\n  annotate(\"segment\", x = 0, y = u(x1), xend = x1, yend = u(x1), linewidth = 0.5, colour = \"black\", linetype=\"dotted\")+\n  annotate(\"text\", x = 0, y = u(x1), label = \"v(-250)\", size = 4, hjust = -0.2, vjust = 0.6)+\n\n  #Add labels -150, v(-150) and line to curve indicating each\n  annotate(\"text\", x = xc, y = 0, label = \"-150\", size = 4, hjust = 0.5, vjust = -0.5)+\n  annotate(\"segment\", x = xc, y = 0, xend = xc, yend = u(xc), linewidth = 0.5, colour = \"black\", linetype=\"dotted\")+\n  annotate(\"segment\", x = 0, y = u(xc), xend = xc, yend = u(xc), linewidth = 0.5, colour = \"black\", linetype=\"dotted\")+\n  annotate(\"text\", x = 0, y = u(xc), label = \"v(-150)\", size = 4, hjust = -0.2, vjust = 0.3)+\n\n  #Add expected utility line\n  annotate(\"segment\", x = x1, xend = x2, y = u(x1), yend = u(x2), linewidth = 0.5, colour = \"black\", linetype=\"dotdash\")+\n\n  #Add labels E[A]=-100, V(A) and curve indicating each\n  annotate(\"text\", x = ev, y = 0, label = \"E[A]=-100\", size = 4, hjust = 0.5, vjust = -0.5)+\n  annotate(\"segment\", x = ev, y = 0, xend = ev, yend = u(x1)+(u(x2)-u(x1))*px2, linewidth = 0.5, colour = \"black\", linetype=\"dashed\")+\n  annotate(\"segment\", x = 0, y = u(x1)+(u(x2)-u(x1))*px2, xend = ev, yend = u(x1)+(u(x2)-u(x1))*px2, linewidth = 0.5, colour = \"black\", linetype=\"dashed\")+\n  annotate(\"text\", x = 0, y = u(x1)+(u(x2)-u(x1))*px2, label = \"V(A)\", size = 4, hjust = -0.2, vjust = 0.45)\n```\n\n::: {.cell-output-display}\n![A 60:40 gamble after a loss](prospect-theory-examples_files/figure-html/fig-60-40-gamble-after-loss-1.png){#fig-60-40-gamble-after-loss width=672}\n:::\n:::\n\n\n\n\n\n\n### A gamble in the gain domain\n\nSuppose Bill has the following reference-dependent value function:\n\n$$\nv(x)=\\left\\{\\begin{matrix}\nx^{1/2} \\qquad &\\textrm{where} &\\space x \\geq 0\\\\\n-2(-x)^{1/2} \\quad &\\textrm{where} &\\space x < 0 \n\\end{matrix}\\right.\n$$\n\n$x$ is the change in Bill's position relative to his reference point.\n\nWhat feature of Bill's value function leads to the reflection effect?\n\nThe power of $\\frac{1}{2}$ applied in both the gain and loss domain leads to diminishing sensitivity to gains and losses. The value function is concave in the gain domain and convex in the loss domain. This curvature leads to risk-averse behaviour in the gain domain and risk-seeking behaviour in the loss domain. This change in risk preference between the gain and loss domains is the reflection effect.\n\n\n\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\nlibrary(ggplot2)\n\nu <- function(x){\n  ifelse (x >= 0, x^0.5, -2*(-x)^0.5)\n}\n\ndf <- data.frame(\n  x = seq(-220, 220, 0.1),\n  y = u(seq(-220, 220, 0.1))\n)\n\nggplot(mapping = aes(x, y)) +\n\n  #Plot the utility curve\n  geom_line(data = df) +\n  geom_vline(xintercept = 0, linewidth=0.25)+ \n  geom_hline(yintercept = 0, linewidth=0.25)+\n  labs(x = \"x\", y = \"v(x)\")+\n\n  # Set the theme\n  theme_minimal()+\n\n  #remove numbers on each axis\n  theme(axis.text.x = element_blank(),\n            axis.text.y = element_blank(),\n            axis.title=element_text(size=14,face=\"bold\"),\n            axis.title.y = element_text(angle=0, vjust=0.5))+\n\n  #limit to y greater than zero and x greater than -8 (need -8 so space for y-axis labels)\n  coord_cartesian(xlim = c(-220, 220), ylim = c(-30, 15))\n```\n\n::: {.cell-output-display}\n![Bill's value function](prospect-theory-examples_files/figure-html/fig-bill-curve-1.png){#fig-bill-curve width=672}\n:::\n:::\n\n\n\n\n\n\n#### Accept or reject? {.unnumbered}\n\nBill considers a choice between \\$100 for certain and gamble A: (0.5, \\$250; 0.5, 0).\n\nWill Bill prefer the \\$100 or gamble A?\n\nThe weighted value of gamble A is:\n\n\\begin{align*}\nV(A)&=p_1v(x_1)+p_2v(x_2) \\\\[6pt]\n&=0.5\\times v(250)+0.5\\times v(0) \\\\[6pt]\n&=0.5 \\times 250^{0.5} + 0.5 \\times 0^{0.5} \\\\[6pt]\n&=7.91\n\\end{align*}\n\nThe value of the \\$100 for certain is:\n\n\\begin{align*}\nV(\\$100)&=v(100)\\\\[6pt]\n&=100^{0.5} \\\\[6pt]\n&=10\n\\end{align*}\n\nAs $V(\\$100)>V(A)$, Bill will prefer the \\$100 for certain to the gamble.\n\nThe possible outcomes from the gamble are zero and \\$250. The certain outcome on offer is \\$100. The expected value of the gamble is \\$125. The outcomes are in the gain domain.\n\nAs he is risk averse in the gain domain, the value of the \\$100 for certain exceeds the weighted value of the gamble. This can be seen through $v(A)$ being less than $v(\\$100)$. Bill will therefore choose the \\$100 for certain.\n\nThe following chart shows Bill's choices. Bill rejects the gamble because of the diminishing sensitivity to gains. This leads him to be risk averse and reject the higher expected value option of the gamble.\n\nAs all possible outcomes under our assumed reference point are in the gain domain, loss aversion does not affect his decision. Note that we do not use the value function for $x<0$ in determining Bill's choice.\n\n\n\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\nlibrary(ggplot2)\n\nu <- function(x){\n  ifelse (x >= 0, x^0.5, -2*(-x)^0.5)\n}\n\ndf <- data.frame(\n  x = seq(-220, 220, 0.1),\n  y = u(seq(-220, 220, 0.1))\n)\n\n#Variables for plot (may not match labels as not done to scale)\n#Payoffs from gamble\nx1<-0 #loss\nx2<-200 #win\nev<-100 #expected value of gamble\nxc<-80 #certain outcome\npx2<-(ev-x1)/(x2-x1)\n\nggplot(mapping = aes(x, y)) +\n\n  #Plot the utility curve\n  geom_line(data = df) +\n  geom_vline(xintercept = 0, linewidth=0.25)+ \n  geom_hline(yintercept = 0, linewidth=0.25)+\n  labs(x = \"x\", y = \"v(x)\")+\n\n  # Set the theme\n  theme_minimal()+\n\n  #remove numbers on each axis\n  theme(axis.text.x = element_blank(),\n            axis.text.y = element_blank(),\n            axis.title=element_text(size=14,face=\"bold\"),\n            axis.title.y = element_text(angle=0, vjust=0.5))+\n\n  #limit to y greater than zero and x greater than -8 (need -8 so space for y-axis labels)\n  coord_cartesian(xlim = c(-220, 220), ylim = c(-30, 15))+\n\n  #Add labels W+20, U(W+20) and line to curve indicating each\n  annotate(\"segment\", x = x1, y = 0, xend = x1, yend = u(x1), linewidth = 0.5, colour = \"black\", linetype=\"dotted\")+\n  annotate(\"segment\", x = 0, y = u(x1), xend = x1, yend = u(x1), linewidth = 0.5, colour = \"black\", linetype=\"dotted\")+\n\n  #Add labels 100, U(100) and line to curve indicating each\n  annotate(\"text\", x = xc, y = 0, label = \"100\", size = 4, hjust = 0.6, vjust = 1.5)+\n  annotate(\"segment\", x = xc, y = 0, xend = xc, yend = u(xc), linewidth = 0.5, colour = \"black\", linetype=\"dotted\")+\n  annotate(\"segment\", x = 0, y = u(xc), xend = xc, yend = u(xc), linewidth = 0.5, colour = \"black\", linetype=\"dotted\")+\n  annotate(\"text\", x = 0, y = u(xc), label = \"v(100)\", size = 4, hjust = 1.05, vjust = 0.3)+\n\n  #Add expected utility line\n  annotate(\"segment\", x = x1, xend = x2, y = u(x1), yend = u(x2), linewidth = 0.5, colour = \"black\", linetype=\"dotdash\")+\n\n  #Add labels 250, v(250) and line to curve indicating each\n  annotate(\"text\", x = x2, y = 0, label = \"250\", size = 4, hjust = 0.4, vjust = 1.5)+\n  annotate(\"segment\", x = x2, y = 0, xend = x2, yend = u(x2), linewidth = 0.5, colour = \"black\", linetype=\"dotted\")+\n  annotate(\"segment\", x = 0, y = u(x2), xend = x2, yend = u(x2), linewidth = 0.5, colour = \"black\", linetype=\"dotted\")+\n  annotate(\"text\", x = 0, y = u(x2), label = \"v(250)\", size = 4, hjust = 1.05, vjust = 0.45)+\n\n  #Add labels E[A], V(A) and curve indicating each\n  annotate(\"text\", x = ev, y = 0, label = \"E[A]=125\", size = 4, hjust = 0.12, vjust = 1.5)+\n  annotate(\"segment\", x = ev, y = 0, xend = ev, yend = u(x1)+(u(x2)-u(x1))*px2, linewidth = 0.5, colour = \"black\", linetype=\"dashed\")+\n  annotate(\"segment\", x = 0, y = u(x1)+(u(x2)-u(x1))*px2, xend = ev, yend = u(x1)+(u(x2)-u(x1))*px2, linewidth = 0.5, colour = \"black\", linetype=\"dashed\")+\n  annotate(\"text\", x = 0, y = u(x1)+(u(x2)-u(x1))*px2, label = \"V(A)\", size = 4, hjust = 1.05, vjust = 0.45)\n```\n\n::: {.cell-output-display}\n![Bill's consideration of gamble A and the \\$100](prospect-theory-examples_files/figure-html/fig-bill-gamble-1.png){#fig-bill-gamble width=672}\n:::\n:::\n\n\n\n\n\n\n#### Accept or reject after a negative shock? {.unnumbered}\n\nSuppose Bill were to experience a large negative shock to his wealth that does not immediately change his reference point. Could this shock cause him to change his decision concerning the \\$100 and gamble A?\n\nA large negative shock to Bill's wealth would cause him to change his decision concerning the \\$100 and gamble A. The shock would move the two possible outcomes into the loss domain, where Bill is risk seeking. (For this answer, I am assuming a shock of greater than \\$250. A smaller shock would change the analysis.)\n\nThe following diagram illustrates the outcomes relative to the reference point. Let $L$ be a large negative number, the loss. The potential outcomes from the gamble are now $L$ and $L+250$. The certain outcome of accepting the \\$100 is $L+100$.\n\n![](img/gain-domain-after-loss.png)\n\nThe following diagram illustrates Bill's decision after the shock. The outcomes $L$, $L+100$ and $L+250$, and their respective values, are marked. The expected value of the gamble is $L+125$. The weighted value of the gamble is $V(L+A)$.\n\nDue to the convex curvature of the curve in the loss domain, Bill is risk seeking. As a result, the utility of the gamble is greater than the utility of the certain outcome. This can be seen in $V(L+A)$ being greater than $v(L+100)$.\n\n\n\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\nlibrary(ggplot2)\n\nu <- function(x){\n  ifelse (x >= 0, x^0.5, -2*(-x)^0.5)\n}\n\ndf <- data.frame(\n  x = seq(-220, 220, 0.1),\n  y = u(seq(-220, 220, 0.1))\n)\n\n#Variables for plot (may not match labels as not done to scale)\n#Payoffs from gamble\nx1<- -200 #loss\nx2<- -20 #win\nev<- -100 #expected value of gamble\nxc<- -120 #certain outcome\npx2<-(ev-x1)/(x2-x1)\n\nggplot(mapping = aes(x, y)) +\n\n  #Plot the utility curve\n  geom_line(data = df) +\n  geom_vline(xintercept = 0, linewidth=0.25)+ \n  geom_hline(yintercept = 0, linewidth=0.25)+\n  labs(x = \"x\", y = \"v(x)\")+\n\n  # Set the theme\n  theme_minimal()+\n\n  #remove numbers on each axis\n  theme(axis.text.x = element_blank(),\n            axis.text.y = element_blank(),\n            axis.title=element_text(size=14,face=\"bold\"),\n            axis.title.y = element_text(angle=0, vjust=0.5))+\n\n  #limit to y greater than zero and x greater than -8 (need -8 so space for y-axis labels)\n  coord_cartesian(xlim = c(-220, 220), ylim = c(-30, 15))+\n\n  #Add labels L, v(L) and line to curve indicating each\n  annotate(\"text\", x = x1, y = 0, label = \"L\", size = 4, hjust = 0.5, vjust = -0.3)+\n  annotate(\"segment\", x = x1, y = 0, xend = x1, yend = u(x1), linewidth = 0.5, colour = \"black\", linetype=\"dotted\")+\n  annotate(\"segment\", x = 0, y = u(x1), xend = x1, yend = u(x1), linewidth = 0.5, colour = \"black\", linetype=\"dotted\")+\n  annotate(\"text\", x = 0, y = u(x1), label = \"v(L)\", size = 4, hjust = -0.1, vjust = 0.6)+\n\n  #Add labels L+100, v(L+100) and line to curve indicating each\n  annotate(\"text\", x = xc, y = 0, label = \"L+100\", size = 4, hjust = 0.8, vjust = -0.3)+\n  annotate(\"segment\", x = xc, y = 0, xend = xc, yend = u(xc), linewidth = 0.5, colour = \"black\", linetype=\"dotted\")+\n  annotate(\"segment\", x = 0, y = u(xc), xend = xc, yend = u(xc), linewidth = 0.5, colour = \"black\", linetype=\"dotted\")+\n  annotate(\"text\", x = 0, y = u(xc), label = \"v(L+100)\", size = 4, hjust = -0.1, vjust = 0.3)+\n\n  #Add expected utility line\n  annotate(\"segment\", x = x1, xend = x2, y = u(x1), yend = u(x2), linewidth = 0.5, colour = \"black\", linetype=\"dotdash\")+\n\n  #Add labels 250+L, U(250+L) and line to curve indicating each\n  annotate(\"text\", x = x2, y = 0, label = \"L+250\", size = 4, hjust = 0.5, vjust = -0.3)+\n  annotate(\"segment\", x = x2, y = 0, xend = x2, yend = u(x2), linewidth = 0.5, colour = \"black\", linetype=\"dotted\")+\n  annotate(\"segment\", x = 0, y = u(x2), xend = x2, yend = u(x2), linewidth = 0.5, colour = \"black\", linetype=\"dotted\")+\n  annotate(\"text\", x = 0, y = u(x2), label = \"v(L+250)\", size = 4, hjust = -0.1, vjust = 0.45)+\n\n  #Add labels L+E[A], v(A+L) and curve indicating each\n  annotate(\"text\", x = ev, y = 0, label = \"L+E[A]\", size = 4, hjust = 0.1, vjust = -0.3)+\n  annotate(\"segment\", x = ev, y = 0, xend = ev, yend = u(x1)+(u(x2)-u(x1))*px2, linewidth = 0.5, colour = \"black\", linetype=\"dashed\")+\n  annotate(\"segment\", x = 0, y = u(x1)+(u(x2)-u(x1))*px2, xend = ev, yend = u(x1)+(u(x2)-u(x1))*px2, linewidth = 0.5, colour = \"black\", linetype=\"dashed\")+\n  annotate(\"text\", x = 0, y = u(x1)+(u(x2)-u(x1))*px2, label = \"V(L+A)\", size = 4, hjust = -0.1, vjust = 0.45)\n```\n\n::: {.cell-output-display}\n![Bill's consideration of gamble A and the \\$100 after the shock](prospect-theory-examples_files/figure-html/fig-bill-gamble-after-shock-1.png){#fig-bill-gamble-after-shock width=672}\n:::\n:::\n\n\n\n\n\n\n## Insurance\n\n### Summary {.unnumbered}\n\n- Classical economic theory explains insurance purchase through risk aversion, while prospect theory offers an alternative explanation involving risk-seeking behaviour in the loss domain and overweighting of small probabilities.\n- A risk-neutral agent would not purchase insurance due to its negative expected value, but a risk-averse agent with a logarithmic utility function may buy insurance due to diminishing marginal utility.\n- Prospect theory's reflection effect suggests people are risk-seeking in the loss domain, which alone would predict that people wouldn't buy insurance, as it involves choosing between a certain loss (premium) and a potentially larger loss.\n- Probability weighting in prospect theory suggests that people overweight small probabilities and underweight probabilities near certainty, which can make insurance attractive despite being in the loss domain.\n- The combination of a convex value function in the loss domain and overweighting of small probabilities can lead to insurance purchase under prospect theory, even when the reflection effect alone would suggest avoiding insurance.\n\n---\n\n::: {.content-visible when-format=\"html\"}\n\n\n\n\n\n\n{{< video https://youtu.be/nEbxlaFo2NM >}}\n\n\n\n\n\n\n\n\n\n\n---\n\n:::\n\n### Introduction\n\nInsurance has a negative expected value due to the insurer's profit and administrative costs. Why would a consumer purchase insurance?\n\nThe classical economic explanation for the purchase of insurance is based on diminishing marginal utility, which leads to risk aversion. Consumers are willing to buy insurance as the consumer prefers the certainty of the premium payment to the risk of suffering an uninsured loss.\n\nProspect theory provides an alternative explanation. The purchase of insurance involves a certain loss (the premium) or a gamble involving the possibility of either a large loss or the status quo. As prospect theory has people as risk seeking in the loss domain, we would not expect them to purchase insurance.\n\nHowever, under prospect theory, people also overweight small probabilities. This overweighting of small probabilities can make the purchase of insurance attractive even though it is in the loss domain.\n\nThis combination of the loss domain with a small probability is the bottom-right quadrant of the fourfold pattern to risk attitudes generated by prospect theory. People tend to be risk averse in this circumstance.\n\n|                            | Gains         | Losses        |\n|----------------------------|---------------|---------------|\n| **High probability**       | Risk aversion | Risk seeking  |\n| **Low probability**        | Risk seeking  | Risk aversion |\n\nThe following numerical example is an illustration.\n\nAn agent is considering insurance against bushfire for their house valued at $H=$ \\$1 000 000. The house has a 1 in 1000 ($p=$ 0.001) chance of burning down. An insurer is willing to offer full coverage for a premium ($R$) of \\$1100. (Note: \\$1000 is the actuarially fair price. The additional \\$100 might represent profit or administrative costs.)\n\n### Expected value\n\nThe first question I will consider is whether a risk-neutral person would purchase the insurance. A risk-neutral utility function is:\n\n$$\nu(x)=x\n$$\n\nA risk-neutral agent will choose the option with the highest expected value.\n\nIf the agent purchases insurance, they pay the premium and do not suffer any loss regardless of whether there is a bushfire or not. Therefore, the expected value of purchasing insurance is the loss of the premium:\n\n\\begin{align*}\n\\mathbb{E}[\\text{I}]&=-R \\\\[6pt]\n&=-\\$1100\n\\end{align*}\n\nThe expected value of purchasing insurance is the guaranteed loss of the premium, \\$1100.\n\nIf the agent does not purchase insurance, they face the 1 in 1000 possibility of an uninsured loss. Therefore, the expected value of not purchasing insurance is the probability of loss times the value of the house:\n\n\\begin{align*}\n\\mathbb{E}[\\neg \\text{I}]&=p\\times(-H) \\\\[6pt]\n&=-0.001\\times 1\\,000\\,000 \\\\[6pt]\n&=-\\$1000\n\\end{align*}\n\nThe expected value of purchasing insurance is lower than the expected value of not purchasing insurance. Therefore, a risk-neutral agent would not purchase the insurance.\n\n### Expected utility\n\nWould a risk-averse agent purchase the insurance? Suppose they have a logarithmic utility function ($u(x)=\\ln(x)$) and they have \\$10 000 in cash in addition to their house, giving them wealth ($W$) of \\$1 010 000.\n\nThe logarithmic utility function has diminishing marginal utility. Diminishing marginal utility is the principle that the marginal utility from each additional unit decreases. In the context of wealth, this means that each additional dollar provides less satisfaction than the previous one.\n\nDiminishing marginal utility means that the agent will be risk averse. They will prefer a certain outcome to a gamble with the same expected value.\n\nTo understand whether this risk-averse agent will purchase insurance in this instance, we need to compare the expected utility of purchasing insurance with the expected utility of not purchasing insurance.\n\nThe expected utility of purchasing insurance is the utility of the certain outcome, which is the utility of wealth after paying the premium:\n\n\\begin{align*}\n\\mathbb{E}[U(\\text{I})]&=u(W-R) \\\\[6pt]\n&=\\ln(1\\,010\\,000-1100) \\\\[6pt]\n&=13.8244\n\\end{align*}\n\nThe expected utility of not purchasing insurance is the probability-weighted sum of the utility of the two potential outcomes, the utility of wealth after losing the house and the utility of wealth if the house does not burn down:\n\n\\begin{align*}\n\\mathbb{E}[U(\\neg \\text{I})]&=p\\times u(W-H)+(1-p)\\times u(W) \\\\[6pt]\n&=0.001\\times \\ln(1\\,010\\,000-1\\,000\\,000)+0.999\\times \\ln(1\\,010\\,000) \\\\[6pt]\n&=13.8208\n\\end{align*}\n\nThe expected utility of purchasing insurance is greater than the expected utility of not purchasing insurance. This agent will purchase insurance.\n\nThe following diagrams illustrate. First I plot the agent's utility function. The utility function is concave as the agent is risk averse. Each additional unit of wealth provides less utility than the previous unit.\n\n\n\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\nlibrary(ggplot2)\nlibrary(latex2exp)\n\nu <- function(x){\n  log(x)\n}\n\ndf <- data.frame(\n  x=seq(1,100,0.1),\n  y=NA\n)\n\ndf$y <- u(df$x)\n\n#Variables for plot (may not match labels as not done to scale)\n#Payoffs from gamble\nx1<-3 #loss\nx2<-90 #win\nev<-77 #expected value of gamble\nxc<-70 #certain outcome\npx2<-(ev-x1)/(x2-x1)\n\ninsurance_eu_1 <- ggplot(mapping = aes(x, y)) +\n    geom_line(data = df) +\n    geom_vline(xintercept = 0, linewidth=0.25)+ \n    geom_hline(yintercept = 0, linewidth=0.25)+\n    labs(x = \"x\", y = \"U(x)\")+\n\n    # Set the theme\n    theme_minimal()+\n\n    #remove numbers on each axis\n    theme(axis.text.x = element_blank(),\n            axis.text.y = element_blank(),\n            axis.title=element_text(size=14,face=\"bold\"),\n            axis.title.y = element_text(angle=0, vjust=0.5))+\n\n    #limit to y greater than zero and x greater than -8 (need -8 so space for y-axis labels)\n    coord_cartesian(xlim = c(-8, 100), ylim = c(0, 5))\n\ninsurance_eu_1\n```\n\n::: {.cell-output-display}\n![The utility function of a risk-averse agent](prospect-theory-examples_files/figure-html/fig-insurance-eu-curve-1.png){#fig-insurance-eu-curve width=672}\n:::\n:::\n\n\n\n\n\n\nI then mark each possible outcome from purchasing or not purchasing insurance on the horizontal axis and the utility of each of those outcomes on the vertical axis. These are: wealth after losing the house when uninsured ($W-H$), wealth after paying the insurance premium ($W-R$), and wealth if uninsured but the house does not burn down ($W$). I have not drawn this to scale.\n\n\n\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\nlibrary(ggplot2)\nlibrary(latex2exp)\n\nu <- function(x){\n  log(x)\n}\n\ndf <- data.frame(\n  x=seq(1,100,0.1),\n  y=NA\n)\n\ndf$y <- u(df$x)\n\n#Variables for plot (may not match labels as not done to scale)\n#Payoffs from gamble\nx1<-3 #loss\nx2<-90 #win\nev<-77 #expected value of gamble\nxc<-70 #certain outcome\npx2<-(ev-x1)/(x2-x1)\n\ninsurance_eu_2 <- insurance_eu_1 +\n\n    #Add labels W, U(W) and line to curve indicating each\n    annotate(\"text\", x = x2, y = 0, label = \"W\", size = 4, hjust = 0.4, vjust = 1.5)+\n    annotate(\"segment\", x = x2, y = 0, xend = x2, yend = u(x2), linewidth = 0.5, colour = \"black\", linetype=\"dotted\")+\n    annotate(\"segment\", x = 0, y = u(x2), xend = x2, yend = u(x2), linewidth = 0.5, colour = \"black\", linetype=\"dotted\")+\n    annotate(\"text\", x = 0, y = u(x2), label = \"U(W)\", size = 4, hjust = 1.1, vjust = 0.4)+\n\n    #Add labels W-R, U(W_R) and line to curve indicating each\n    annotate(\"text\", x = xc, y = 0, label = \"W-R\", size = 4, hjust = 0.5, vjust = 1.5)+\n    annotate(\"segment\", x = xc, y = 0, xend = xc, yend = u(xc), linewidth = 0.5, colour = \"black\", linetype=\"dotted\")+\n    annotate(\"segment\", x = 0, y = u(xc), xend = xc, yend = u(xc), linewidth = 0.5, colour = \"black\", linetype=\"dotted\")+\n    annotate(\"text\", x = 0, y = u(xc), label = \"U(W-R)\", size = 4, hjust = 1.05, vjust = 0.45)+\n\n    #Add labels W-H, U(W-H) and line to curve indicating each\n    annotate(\"text\", x = x1, y = 0, label = \"W-H\", size = 4, hjust = 0.4, vjust = 1.5)+\n    annotate(\"segment\", x = x1, y = 0, xend = x1, yend = u(x1), linewidth = 0.5, colour = \"black\", linetype=\"dotted\")+\n    annotate(\"segment\", x = 0, y = u(x1), xend = x1, yend = u(x1), linewidth = 0.5, colour = \"black\", linetype=\"dotted\")+\n    annotate(\"text\", x = 0, y = u(x1), label = \"U(W-H)\", size = 4, hjust = 1.05, vjust = 0.45)\n\ninsurance_eu_2\n```\n\n::: {.cell-output-display}\n![The utility of the outcomes of purchasing insurance and not purchasing insurance](prospect-theory-examples_files/figure-html/fig-insurance-eu-outcomes-1.png){#fig-insurance-eu-outcomes width=672}\n:::\n:::\n\n\n\n\n\n\nThe expected utility of not purchasing insurance is the probability-weighted sum of the utility of the two potential outcomes, the utility of wealth after losing the house and the utility of wealth if the house does not burn down. I can show this on the diagram by plotting a dash-dot line between $U(W-H)$ and $U(W)$. The expected utility of not purchasing insurance will be on this line.\n\n\n\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\nlibrary(ggplot2)\nlibrary(latex2exp)\n\nu <- function(x){\n  log(x)\n}\n\ndf <- data.frame(\n  x=seq(1,100,0.1),\n  y=NA\n)\n\ndf$y <- u(df$x)\n\n#Variables for plot (may not match labels as not done to scale)\n#Payoffs from gamble\nx1<-3 #loss\nx2<-90 #win\nev<-77 #expected value of gamble\nxc<-70 #certain outcome\npx2<-(ev-x1)/(x2-x1)\n\ninsurance_eu_3 <- insurance_eu_2 +\n\n    #Add expected utility line\n    annotate(\"segment\", x = x2, xend = x1, y = u(x2), yend = u(x1), linewidth = 0.5, colour = \"black\", linetype=\"dotdash\")\n\ninsurance_eu_3\n```\n\n::: {.cell-output-display}\n![The expected utility line](prospect-theory-examples_files/figure-html/fig-insurance-eu-line-1.png){#fig-insurance-eu-line width=672}\n:::\n:::\n\n\n\n\n\n\nThe location of the expected utility is determined by the probability $p$ of incurring a loss. This point lies at a distance of $p$ from $U(W)$ along the line (or equivalently, at a distance of $1-p$ from $U(W-H)$). This point aligns with the expected value of leaving the house uninsured $\\mathbb{E}[\\neg \\text{I}]$.\n\nThe utility of purchasing insurance, $U(W-R)$, is greater than the expected utility of not purchasing insurance, $\\mathbb{E}[U(\\neg \\text{I})]$. We can see this as $U(W-R)$ is above $\\mathbb{E}[U(\\neg \\text{I})]$ on the diagram. This risk-averse agent will purchase insurance.\n\n\n\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\nlibrary(ggplot2)\nlibrary(latex2exp)\n\nu <- function(x){\n  log(x)\n}\n\ndf <- data.frame(\n  x=seq(1,100,0.1),\n  y=NA\n)\n\ndf$y <- u(df$x)\n\n#Variables for plot (may not match labels as not done to scale)\n#Payoffs from gamble\nx1<-3 #loss\nx2<-90 #win\nev<-77 #expected value of gamble\nxc<-70 #certain outcome\npx2<-(ev-x1)/(x2-x1)\n\ninsurance_eu_4 <- insurance_eu_3 +\n\n    #Add labels E[not I], E[U(not I)] and curve indicating each\n    annotate(\"text\", x = ev, y = 0, label = TeX(\"E[$\\\\neg$ I]\", output='character'), parse=TRUE, size = 4, hjust = 0.4, vjust = 1.4)+\n    annotate(\"segment\", x = ev, y = 0, xend = ev, yend = u(x1)+(u(x2)-u(x1))*px2, linewidth = 0.5, colour = \"black\", linetype=\"dashed\")+\n    annotate(\"segment\", x = 0, y = u(x1)+(u(x2)-u(x1))*px2, xend = ev, yend = u(x1)+(u(x2)-u(x1))*px2, linewidth = 0.5, colour = \"black\", linetype=\"dashed\")+\n    annotate(\"text\", x = 0, y = u(x1)+(u(x2)-u(x1))*px2, label = TeX(\"E[U($\\\\neg$ I)]\", output='character'), parse=TRUE, size = 4, hjust = 1.05, vjust = 0.45)\n\ninsurance_eu_4\n```\n\n::: {.cell-output-display}\n![The expected utility of purchasing insurance and not purchasing insurance](prospect-theory-examples_files/figure-html/fig-insurance-eu-1.png){#fig-insurance-eu width=672}\n:::\n:::\n\n\n\n\n\n\n### The reflection effect\n\nI will now move on to the elements of prospect theory, introducing them one at a time. The first element is the reflection effect.\n\nConsider an agent who is risk seeking in the domain of losses but weights probability linearly. Their value function is:\n\n$$\nv(x)=\\left\\{\\begin{matrix}\nx^{0.8} \\qquad &\\textrm{where} \\space x \\geq 0\\\\[6pt]\n-2(-x)^{0.8} \\quad &\\textrm{where} \\space x < 0 \n\\end{matrix}\\right.\n$$\n\n$x$ is the realised outcome relative to the reference point.\n\nThe reflection effect occurs as this value function is concave in the gain domain and convex in the loss domain. This leads to risk averse and risk seeking behaviour, respectively.\n\nIn this analysis, we will take the reference point as current wealth before the purchase of the insurance. Determination of the reference point can be arbitrary. What if you pay insurance every year? Would the reference point then be wealth minus the insurance payment, meaning the insurance payment is in the gain domain? In that case, the analysis changes.\n\nWe can see the outcomes for an agent with a reference point of wealth before purchasing insurance on the following line (not drawn to scale). The outcomes are the premium payment $-R$ and the value of the house after a bushfire $-H$. If uninsured and no fire, the agent will remain at their reference point of the status quo.\n\n![](img/insurance-reference-point.png)\n\nWould this agent with the reflection effect and a reference point of wealth before purchasing the insurance make the purchase?\n\nWe need to compare the weighted value of purchasing insurance with the weighted value of not purchasing insurance. The agent will purchase insurance if the weighted value of purchasing insurance is greater.\n\nThe weighted value of purchasing insurance is the value of the certain outcome, which is the loss of the premium:\n\n\\begin{align*}\nV(\\text{I})&=v(-R) \\\\[6pt]\n&=-(1100)^{0.8} \\\\[6pt]\n&=-271.1\n\\end{align*}\n\nThe weighted value of not purchasing insurance is the probability-weighted sum of the value of the two potential outcomes, the value of wealth after losing the house and the value of wealth if the house does not burn down:\n\n\\begin{align*}\nV(\\neg\\text{I})&=\\sum_{i=1}^n p_iv(x_i) \\\\[6pt]\n&=p\\times v(-H)+(1-p)\\times v(0) \\\\[6pt]\n&=-0.001\\times (1 000 000)^{0.8}+0.999\\times 0 \\\\[6pt]\n&=-63.1\n\\end{align*}\n\nAs the value of purchasing insurance is less than the weighted value of not purchasing insurance, that is, $V(\\text{I})<V(\\neg\\text{I})$, this agent does not purchase insurance. The diminishing feeling of loss leads to them weigh the certain loss of the premium relatively more heavily than the chance of losing the value of their house.\n\nIncluding loss aversion in the value function does not change the decision as all possible outcomes are in the loss domain.\n\nThe following diagrams illustrate. First I plot the agent's value function. The value function is concave in the gain domain and convex in the loss domain, leading to risk averse and risk-seeking behaviour, respectively. Each additional gain or loss of a unit of wealth relative to the reference point results in a smaller change in value than the previous unit. There is diminishing sensitivity to both gains and losses.\n\n\n\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\nlibrary(ggplot2)\n\nu <- function(x){\n  ifelse (x >= 0, x^0.5, -2*(-x)^0.5)\n}\n\ndf <- data.frame(\n  x = seq(-220, 220, 0.1),\n  y = u(seq(-220, 220, 0.1))\n)\n\n#Variables for plot (may not match labels as not done to scale)\n#Payoffs from gamble\nx1<- -200 #loss\nx2<- 0 #win\nev<- -30 #expected value of gamble\nxc<- -60 #certain outcome\npx2<-(ev-x1)/(x2-x1)\n\nggplot(mapping = aes(x, y)) +\n\n  #Plot the utility curve\n  geom_line(data = df) +\n  geom_vline(xintercept = 0, linewidth=0.25)+ \n  geom_hline(yintercept = 0, linewidth=0.25)+\n  labs(x = \"x\", y = \"v(x)\")+\n\n  # Set the theme\n  theme_minimal()+\n\n  #remove numbers on each axis\n  theme(axis.text.x = element_blank(),\n            axis.text.y = element_blank(),\n            axis.title=element_text(size=14,face=\"bold\"),\n            axis.title.y = element_text(angle=0, vjust=0.5))+\n\n  #limit to y greater than zero and x greater than -8 (need -8 so space for y-axis labels)\n  coord_cartesian(xlim = c(-220, 220), ylim = c(-30, 15))\n```\n\n::: {.cell-output-display}\n![A value function with the reflection effect](prospect-theory-examples_files/figure-html/fig-insurance-value-function-1.png){#fig-insurance-value-function width=672}\n:::\n:::\n\n\n\n\n\n\nEach outcome and the value of that outcome from purchasing or not purchasing insurance is marked on the horizontal axis and the value of those outcomes on the vertical axis. These are: the premium payment $-R$ and the outcome after a bushfire $-H$. If uninsured and no fire, the agent will remain at their reference point of the status quo.\n\n\n\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\nlibrary(ggplot2)\n\nu <- function(x){\n  ifelse (x >= 0, x^0.5, -2*(-x)^0.5)\n}\n\ndf <- data.frame(\n  x = seq(-220, 220, 0.1),\n  y = u(seq(-220, 220, 0.1))\n)\n\n#Variables for plot (may not match labels as not done to scale)\n#Payoffs from gamble\nx1<- -200 #loss\nx2<- 0 #win\nev<- -30 #expected value of gamble\nxc<- -60 #certain outcome\npx2<-(ev-x1)/(x2-x1)\n\nggplot(mapping = aes(x, y)) +\n\n  #Plot the utility curve\n  geom_line(data = df) +\n  geom_vline(xintercept = 0, linewidth=0.25)+ \n  geom_hline(yintercept = 0, linewidth=0.25)+\n  labs(x = \"x\", y = \"v(x)\")+\n\n  # Set the theme\n  theme_minimal()+\n\n  #remove numbers on each axis\n  theme(axis.text.x = element_blank(),\n            axis.text.y = element_blank(),\n            axis.title=element_text(size=14,face=\"bold\"),\n            axis.title.y = element_text(angle=0, vjust=0.5))+\n\n  #limit to y greater than zero and x greater than -8 (need -8 so space for y-axis labels)\n  coord_cartesian(xlim = c(-220, 220), ylim = c(-30, 15))+\n\n  #Add labels -H, v(L) and line to curve indicating each\n  annotate(\"text\", x = x1, y = 0, label = \"-H\", size = 4, hjust = 0.5, vjust = -0.3)+\n  annotate(\"segment\", x = x1, y = 0, xend = x1, yend = u(x1), linewidth = 0.5, colour = \"black\", linetype=\"dotted\")+\n  annotate(\"segment\", x = 0, y = u(x1), xend = x1, yend = u(x1), linewidth = 0.5, colour = \"black\", linetype=\"dotted\")+\n  annotate(\"text\", x = 0, y = u(x1), label = \"v(-H)\", size = 4, hjust = -0.1, vjust = 0.6)+\n\n  #Add labels -R, v(-R) and line to curve indicating each\n  annotate(\"text\", x = xc, y = 0, label = \"-R\", size = 4, hjust = 0.8, vjust = -0.3)+\n  annotate(\"segment\", x = xc, y = 0, xend = xc, yend = u(xc), linewidth = 0.5, colour = \"black\", linetype=\"dotted\")+\n  annotate(\"segment\", x = 0, y = u(xc), xend = xc, yend = u(xc), linewidth = 0.5, colour = \"black\", linetype=\"dotted\")+\n  annotate(\"text\", x = 0, y = u(xc), label = \"v(-R)\", size = 4, hjust = -0.1, vjust = 0.3)\n```\n\n::: {.cell-output-display}\n![The value of the outcomes of purchasing insurance and not purchasing insurance](prospect-theory-examples_files/figure-html/fig-insurance-reflection-outcomes-1.png){#fig-insurance-reflection-outcomes width=672}\n:::\n:::\n\n\n\n\n\n\nThe weighted value of not purchasing insurance is the probability-weighted sum of the value of the two potential outcomes, the value of wealth after losing the house and the reference point. I can show this on the diagram by plotting a dash-dot line between $v(-H)$ and $v(0)$. The weighted value of not purchasing insurance will be on this line.\n\n\n\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\nlibrary(ggplot2)\n\nu <- function(x){\n  ifelse (x >= 0, x^0.5, -2*(-x)^0.5)\n}\n\ndf <- data.frame(\n  x = seq(-220, 220, 0.1),\n  y = u(seq(-220, 220, 0.1))\n)\n\n#Variables for plot (may not match labels as not done to scale)\n#Payoffs from gamble\nx1<- -200 #loss\nx2<- 0 #win\nev<- -30 #expected value of gamble\nxc<- -60 #certain outcome\npx2<-(ev-x1)/(x2-x1)\n\nggplot(mapping = aes(x, y)) +\n\n  #Plot the utility curve\n  geom_line(data = df) +\n  geom_vline(xintercept = 0, linewidth=0.25)+ \n  geom_hline(yintercept = 0, linewidth=0.25)+\n  labs(x = \"x\", y = \"v(x)\")+\n\n  # Set the theme\n  theme_minimal()+\n\n  #remove numbers on each axis\n  theme(axis.text.x = element_blank(),\n            axis.text.y = element_blank(),\n            axis.title=element_text(size=14,face=\"bold\"),\n            axis.title.y = element_text(angle=0, vjust=0.5))+\n\n  #limit to y greater than zero and x greater than -8 (need -8 so space for y-axis labels)\n  coord_cartesian(xlim = c(-220, 220), ylim = c(-30, 15))+\n\n  #Add labels -H, v(L) and line to curve indicating each\n  annotate(\"text\", x = x1, y = 0, label = \"-H\", size = 4, hjust = 0.5, vjust = -0.3)+\n  annotate(\"segment\", x = x1, y = 0, xend = x1, yend = u(x1), linewidth = 0.5, colour = \"black\", linetype=\"dotted\")+\n  annotate(\"segment\", x = 0, y = u(x1), xend = x1, yend = u(x1), linewidth = 0.5, colour = \"black\", linetype=\"dotted\")+\n  annotate(\"text\", x = 0, y = u(x1), label = \"v(-H)\", size = 4, hjust = -0.1, vjust = 0.6)+\n\n  #Add labels -R, v(-R) and line to curve indicating each\n  annotate(\"text\", x = xc, y = 0, label = \"-R\", size = 4, hjust = 0.8, vjust = -0.3)+\n  annotate(\"segment\", x = xc, y = 0, xend = xc, yend = u(xc), linewidth = 0.5, colour = \"black\", linetype=\"dotted\")+\n  annotate(\"segment\", x = 0, y = u(xc), xend = xc, yend = u(xc), linewidth = 0.5, colour = \"black\", linetype=\"dotted\")+\n  annotate(\"text\", x = 0, y = u(xc), label = \"v(-R)\", size = 4, hjust = -0.1, vjust = 0.3)+\n\n  #Add expected utility line\n  annotate(\"segment\", x = x1, xend = x2, y = u(x1), yend = u(x2), linewidth = 0.5, colour = \"black\", linetype=\"dotdash\")\n```\n\n::: {.cell-output-display}\n![The weighted value line](prospect-theory-examples_files/figure-html/fig-insurance-reflection-line-1.png){#fig-insurance-reflection-line width=672}\n:::\n:::\n\n\n\n\n\n\nThe location of this point is determined by the probability $p$ of incurring a loss. This point lies at a distance of $p$ from $v(0)$ along the line (or equivalently, at a distance of $1-p$ from $v(-H)$). This point aligns with the expected value of leaving the house uninsured $\\mathbb{E}[\\neg I]$.\n\nThe value of purchasing insurance, $v(-R)$, is less than the weighted value of not purchasing insurance, $V(\\neg I)$. The agent will not purchase insurance. They are risk seeking in this loss domain.\n\n\n\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\nlibrary(ggplot2)\n\nu <- function(x){\n  ifelse (x >= 0, x^0.5, -2*(-x)^0.5)\n}\n\ndf <- data.frame(\n  x = seq(-220, 220, 0.1),\n  y = u(seq(-220, 220, 0.1))\n)\n\n#Variables for plot (may not match labels as not done to scale)\n#Payoffs from gamble\nx1<- -200 #loss\nx2<- 0 #win\nev<- -30 #expected value of gamble\nxc<- -60 #certain outcome\npx2<-(ev-x1)/(x2-x1)\n\nggplot(mapping = aes(x, y)) +\n\n  #Plot the utility curve\n  geom_line(data = df) +\n  geom_vline(xintercept = 0, linewidth=0.25)+ \n  geom_hline(yintercept = 0, linewidth=0.25)+\n  labs(x = \"x\", y = \"v(x)\")+\n\n  # Set the theme\n  theme_minimal()+\n\n  #remove numbers on each axis\n  theme(axis.text.x = element_blank(),\n            axis.text.y = element_blank(),\n            axis.title=element_text(size=14,face=\"bold\"),\n            axis.title.y = element_text(angle=0, vjust=0.5))+\n\n  #limit to y greater than zero and x greater than -8 (need -8 so space for y-axis labels)\n  coord_cartesian(xlim = c(-220, 220), ylim = c(-30, 15))+\n\n  #Add labels -H, v(L) and line to curve indicating each\n  annotate(\"text\", x = x1, y = 0, label = \"-H\", size = 4, hjust = 0.5, vjust = -0.3)+\n  annotate(\"segment\", x = x1, y = 0, xend = x1, yend = u(x1), linewidth = 0.5, colour = \"black\", linetype=\"dotted\")+\n  annotate(\"segment\", x = 0, y = u(x1), xend = x1, yend = u(x1), linewidth = 0.5, colour = \"black\", linetype=\"dotted\")+\n  annotate(\"text\", x = 0, y = u(x1), label = \"v(-H)\", size = 4, hjust = -0.1, vjust = 0.6)+\n\n  #Add labels -R, v(-R) and line to curve indicating each\n  annotate(\"text\", x = xc, y = 0, label = \"-R\", size = 4, hjust = 0.8, vjust = -0.3)+\n  annotate(\"segment\", x = xc, y = 0, xend = xc, yend = u(xc), linewidth = 0.5, colour = \"black\", linetype=\"dotted\")+\n  annotate(\"segment\", x = 0, y = u(xc), xend = xc, yend = u(xc), linewidth = 0.5, colour = \"black\", linetype=\"dotted\")+\n  annotate(\"text\", x = 0, y = u(xc), label = \"v(-R)\", size = 4, hjust = -0.1, vjust = 0.3)+\n\n  #Add expected utility line\n  annotate(\"segment\", x = x1, xend = x2, y = u(x1), yend = u(x2), linewidth = 0.5, colour = \"black\", linetype=\"dotdash\")+\n\n  #Add labels E[\\neg I], V(\\neg I) and curve indicating each\n  annotate(\"text\", x = ev, y = 0, label = as.character(TeX(\"E[$\\\\neg$ I]\")), size = 4, hjust = 0.5, vjust = -0.3, parse=TRUE)+\n  annotate(\"segment\", x = ev, y = 0, xend = ev, yend = u(x1)+(u(x2)-u(x1))*px2, linewidth = 0.5, colour = \"black\", linetype=\"dashed\")+\n  annotate(\"segment\", x = 0, y = u(x1)+(u(x2)-u(x1))*px2, xend = ev, yend = u(x1)+(u(x2)-u(x1))*px2, linewidth = 0.5, colour = \"black\", linetype=\"dashed\")+\n  annotate(\"text\", x = 0, y = u(x1)+(u(x2)-u(x1))*px2, label = as.character(TeX(\"V($\\\\neg$ I)\")), size = 4, hjust = -0.1, vjust = 0.45, parse=TRUE)\n```\n\n::: {.cell-output-display}\n![The reflection effect and insurance](prospect-theory-examples_files/figure-html/fig-insurance-reflection-1.png){#fig-insurance-reflection width=672}\n:::\n:::\n\n\n\n\n\n\n### Probability weighting\n\nWould a person who is risk seeking in the domain of losses (that is, a person with a value function with reflection effect discussed earlier) who weights probability in accordance with prospect theory purchase the insurance?\n\nProspect theory proposes that people overweight small probabilities. They might weight probabilities as per the following table:\n\n|                |     |     |     |     |     |     |     |     |     |\n|-----|-----|-----|-----|-----|-----|-----|-----|-----|-----|\n|  **Probability** $(p)$  |   0.001  |   0.01  | 0.1 |0.25   |  0.5   |  0.75   |  0.9   | 0.99    |  0.999   |\n|   **Weight** $\\pi(p)$       |  0.01   |  0.05   |   0.15  |  0.3   |  0.5   |  0.7   | 0.85    |  0.95   |  0.99   |\n\nThat is, an outcome with a probability of $p=0.001$ is given a weight $\\pi(p)$ of 0.01, ten times what its probability would suggest. An outcome with a probability of $p=0.01$ is given a weight $\\pi(p)$ of 0.05, five times the weight.\n\nSimilarly, a probability of $p=0.99$ is given a weight $\\pi(p)$ of 0.95 and a probability of $p=0.999$ is given a weight $\\pi(p)$ of 0.99, implying that probabilities near certainty are underweighted relative to certainty itself.\n\nTo assess whether this person will purchase insurance, we need to compare the weighted value of purchasing insurance with the weighted value of not purchasing insurance. They will purchase insurance if the weighted value of purchasing insurance is greater.\n\nThe weighted value of purchasing insurance is the value of the certain outcome, which is the loss of the premium:\n\n\\begin{align*}\nV(\\text{I})&=v(-R) \\\\[6pt]\n&=-(1,100)^{0.8} \\\\[6pt]\n&=-271.1 \\\\\n\\end{align*}\n\nThe weighted value of not purchasing insurance is the weighted sum of the value of the two potential outcomes, with the weights from the table above:\n\n\\begin{align*}\nV(\\neg\\text{I})&=\\sum_{i=1}^n \\pi(p_i)v(x_i) \\\\[6pt]\n&=\\pi(p)\\times v(0)+\\pi(1-p)\\times v(-H) \\\\[6pt]\n&=\\pi(0.001)\\times v(-1\\,000\\,000)+\\pi(0.999)\\times v(0) \\\\[6pt]\n&=-0.01\\times (1\\,000\\,000)^{0.8}+0.99\\times 0 \\\\[6pt]\n&=-631\n\\end{align*}\n\nAs the value of purchasing insurance is greater than the value of not purchasing insurance, that is, $V(\\text{I})>V(\\neg\\text{I})$, this person purchases insurance.  \n\nAlthough the diminishing feeling of loss leads to them weigh the certain loss of the premium relatively more heavily than the chance of losing the value of their house, the overweighting of the probability of fire leads them to purchase insurance. Again, if we had included loss aversion, it would not have changed the decision, as all possible outcomes are in the loss domain.\n\n## A multi-bet\n\nA multi-bet allows a gambler to combine a series of individual bets into a single wager, with the odds of all the single bets multiplied to achieve the final payoff. The gambler only wins the wager if all of the single bets are successful. Or in other words, if a single bet is lost, the entire multi-bet is lost. A multi-bet is also known as an \"accumulator\" bet or \"parlay\".\n\nFor example, a multi-bet might combine the following bets:\n\n- GWS Giants to defeat Adelaide Crows: \\$1.65 (that is, \\$1.65 is paid out for each $1 bet)\n- Fremantle Dockers to defeat Sydney Swans: \\$2.10\n- Essendon Bombers to defeat Geelong Cats: \\$3.50\n- North Melbourne Kangaroos to defeat Melbourne Demons: \\$4.00\n- West Coast Eagles to defeat Brisbane Lions: \\$6.00\n\nIf all five bets are successful, the gambler would win \\$291 for every $1 they have bet. (That is 1.65 x 2.10 x 3.50 x 4 x 6 = 291.06). If any of GWS, Fremantle, Essendon, North Melbourne, or the West Coast Eagles lose, the bet is lost.\n\nMany bookmakers also offer a \"cash out\" option for multi-bets. If the bet has been successful up to the date of the \"cash out\", a gambler can \"cash out\" their bet before the remaining games are complete at a price offered by the bookmaker. The \"cash out\" offers are typically unattractive relative to the expected value of seeing out the rest of the multi-bet.\n\nFor example, Betty places a \\$20 multi-bet involving all nine games of Australian Rules Football one weekend. After eight games, she has picked all eight winners. If Geelong defeats North Melbourne in the ninth game she will win $10,000. Geelong is a heavy favourite, with a 95% probability of winning.\n\nBetty checks the cash out price for the multi-bet and sees that she can cash out the bet now for \\$7,000, a great return on her initial \\$20. That return, however, is much below the expected value of seeing the multi-bet through to the end (\\$9,500).\n\nBetty makes decisions according to prospect theory. That is, she judges gains and losses relative to a reference point, is loss averse, and has diminishing sensitivity to gains and losses in both directions. She also overweights certainty (which is equivalent to overweighting small probabilities).\n\nWhat elements of prospect theory might lead Betty to cash out the bet before the final game?\n\nWe can consider multiple potential reference points Betty might use to make her decision.\n\nOne potential reference point is Betty's position before making the bet. In that case, Betty is comparing:\n\n- a certain gain of \\$6980 and\n- a gamble with a loss of \\$20 and a gain of \\$9,980.\n\nThe gamble is largely in the gain domain in which Betty is risk averse. Her risk aversion may lead her to cash out rather than take the gamble. The potential \\$20 loss may be overweighted due to loss aversion, but it is a relatively insignificant sum.\n\nAnother potential reference point is Betty's position immediately after making the bet. She has adapted to the payment of \\$20. Here the analysis is similar. Betty is comparing:\n\n- a certain gain of \\$7000 and\n- a gamble with a gain of \\$10,000 or a payment of zero\n\nThe gamble is completely in the gain domain, where Betty is risk averse. Her risk aversion may lead her to cash out rather than gamble. Loss aversion is irrelevant in this instance.\n\nAnother potential reference point is that Betty is taking the \\$7000 to be locked in. This means she is comparing:\n\n- staying at the status quo with certainty and\n- a gamble involving a potential loss of \\$7000 and a gain of \\$3,000.\n \nIn this case, the combination of risk aversion reducing the value of the gain and loss aversion increasing the relative magnitude of the pain of loss could lead her to cash out. This would be counteracted by the convex curvature in the loss domain, but the loss aversion effect would likely dominate.\n\nFinally, Betty's weighting of probabilities will also affect her decision. Overweighting certainty means overweighting small probabilities, such as the small probability of Geelong losing. This overweighting would push her towards cashing out as the loss would have greater weight in her calculation of the weighted value of each option.",
    "supporting": [
      "prospect-theory-examples_files"
    ],
    "filters": [
      "rmarkdown/pagebreak.lua"
    ],
    "includes": {},
    "engineDependencies": {},
    "preserve": {},
    "postProcess": true
  }
}