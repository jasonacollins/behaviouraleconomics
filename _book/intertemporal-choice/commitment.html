<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.7.23">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">


<title>27&nbsp; Commitment – Notes on behavioural economics</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
/* CSS for citations */
div.csl-bib-body { }
div.csl-entry {
  clear: both;
  margin-bottom: 0em;
}
.hanging-indent div.csl-entry {
  margin-left:2em;
  text-indent:-2em;
}
div.csl-left-margin {
  min-width:2em;
  float:left;
}
div.csl-right-inline {
  margin-left:2em;
  padding-left:1em;
}
div.csl-indent {
  margin-left: 2em;
}</style>


<script src="../site_libs/quarto-nav/quarto-nav.js"></script>
<script src="../site_libs/quarto-nav/headroom.min.js"></script>
<script src="../site_libs/clipboard/clipboard.min.js"></script>
<script src="../site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="../site_libs/quarto-search/fuse.min.js"></script>
<script src="../site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="../">
<link href="../intertemporal-choice/preference-over-profiles.html" rel="next">
<link href="../intertemporal-choice/sophisticated-present-bias.html" rel="prev">
<script src="../site_libs/quarto-html/quarto.js" type="module"></script>
<script src="../site_libs/quarto-html/tabsets/tabsets.js" type="module"></script>
<script src="../site_libs/quarto-html/popper.min.js"></script>
<script src="../site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="../site_libs/quarto-html/anchor.min.js"></script>
<link href="../site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="../site_libs/quarto-html/quarto-syntax-highlighting-226bd0f977fa82dfae4534cac220d79a.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="../site_libs/bootstrap/bootstrap.min.js"></script>
<link href="../site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="../site_libs/bootstrap/bootstrap-61b399986b2e786a8f3d560b8bfb14aa.min.css" rel="stylesheet" append-hash="true" id="quarto-bootstrap" data-mode="light">
<script src="../site_libs/quarto-contrib/glightbox/glightbox.min.js"></script>
<link href="../site_libs/quarto-contrib/glightbox/glightbox.min.css" rel="stylesheet">
<link href="../site_libs/quarto-contrib/glightbox/lightbox.css" rel="stylesheet">
<script id="quarto-search-options" type="application/json">{
  "location": "navbar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "end",
  "type": "overlay",
  "limit": 50,
  "keyboard-shortcut": [
    "f",
    "/",
    "s"
  ],
  "show-item-context": false,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-text-placeholder": "",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit",
    "search-label": "Search"
  }
}</script>
<script async="" src="https://www.googletagmanager.com/gtag/js?id=G-ZFSLJY1DR4"></script>

<script type="text/javascript">

window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'G-ZFSLJY1DR4', { 'anonymize_ip': true});
</script>

  <script>window.backupDefine = window.define; window.define = undefined;</script><script src="https://cdn.jsdelivr.net/npm/katex@latest/dist/katex.min.js"></script>
  <script>document.addEventListener("DOMContentLoaded", function () {
 var mathElements = document.getElementsByClassName("math");
 var macros = [];
 for (var i = 0; i < mathElements.length; i++) {
  var texText = mathElements[i].firstChild;
  if (mathElements[i].tagName == "SPAN") {
   katex.render(texText.data, mathElements[i], {
    displayMode: mathElements[i].classList.contains('display'),
    throwOnError: false,
    macros: macros,
    fleqn: false
   });
}}});
  </script>
  <script>window.define = window.backupDefine; window.backupDefine = undefined;</script><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@latest/dist/katex.min.css">

<script type="text/javascript">
const typesetMath = (el) => {
  if (window.MathJax) {
    // MathJax Typeset
    window.MathJax.typeset([el]);
  } else if (window.katex) {
    // KaTeX Render
    var mathElements = el.getElementsByClassName("math");
    var macros = [];
    for (var i = 0; i < mathElements.length; i++) {
      var texText = mathElements[i].firstChild;
      if (mathElements[i].tagName == "SPAN") {
        window.katex.render(texText.data, mathElements[i], {
          displayMode: mathElements[i].classList.contains('display'),
          throwOnError: false,
          macros: macros,
          fleqn: false
        });
      }
    }
  }
}
window.Quarto = {
  typesetMath
};
</script>

<link rel="stylesheet" href="../styles.css">
<meta property="og:title" content="27&nbsp; Commitment – Notes on behavioural economics">
<meta property="og:description" content="">
<meta property="og:image" content="https://behaviouraleconomics.jasoncollins.blog/intertemporal-choice/img/stickk.jpg">
<meta property="og:site_name" content="Notes on behavioural economics">
<meta name="twitter:title" content="27&nbsp; Commitment – Notes on behavioural economics">
<meta name="twitter:description" content="">
<meta name="twitter:image" content="https://behaviouraleconomics.jasoncollins.blog/intertemporal-choice/img/stickk.jpg">
<meta name="twitter:card" content="summary_large_image">
</head>

<body class="nav-sidebar floating nav-fixed quarto-light">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
    <nav class="navbar navbar-expand-lg " data-bs-theme="dark">
      <div class="navbar-container container-fluid">
      <div class="navbar-brand-container mx-auto">
    <a class="navbar-brand" href="../index.html">
    <span class="navbar-title">Notes on behavioural economics</span>
    </a>
  </div>
            <div id="quarto-search" class="" title="Search"></div>
          <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarCollapse" aria-controls="navbarCollapse" role="menu" aria-expanded="false" aria-label="Toggle navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
  <span class="navbar-toggler-icon"></span>
</button>
          <div class="collapse navbar-collapse" id="navbarCollapse">
            <ul class="navbar-nav navbar-nav-scroll ms-auto">
  <li class="nav-item">
    <a class="nav-link" href="https://www.jasoncollins.blog/"> 
<span class="menu-text">Blog</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="https://www.jasoncollins.blog/about/"> 
<span class="menu-text">About</span></a>
  </li>  
</ul>
          </div> <!-- /navcollapse -->
            <div class="quarto-navbar-tools">
    <a href="https://github.com/jasonacollins/behaviouraleconomics" title="Source Code" class="quarto-navigation-tool px-1" aria-label="Source Code"><i class="bi bi-github"></i></a>
</div>
      </div> <!-- /container-fluid -->
    </nav>
  <nav class="quarto-secondary-nav">
    <div class="container-fluid d-flex">
      <button type="button" class="quarto-btn-toggle btn" data-bs-toggle="collapse" role="button" data-bs-target=".quarto-sidebar-collapse-item" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
        <i class="bi bi-layout-text-sidebar-reverse"></i>
      </button>
        <nav class="quarto-page-breadcrumbs" aria-label="breadcrumb"><ol class="breadcrumb"><li class="breadcrumb-item"><a href="../intertemporal-choice/intertemporal-choice.html">Intertemporal choice</a></li><li class="breadcrumb-item"><a href="../intertemporal-choice/commitment.html"><span class="chapter-number">27</span>&nbsp; <span class="chapter-title">Commitment</span></a></li></ol></nav>
        <a class="flex-grow-1" role="navigation" data-bs-toggle="collapse" data-bs-target=".quarto-sidebar-collapse-item" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">      
        </a>
    </div>
  </nav>
</header>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article page-navbar">
<!-- sidebar -->
  <nav id="quarto-sidebar" class="sidebar collapse collapse-horizontal quarto-sidebar-collapse-item sidebar-navigation floating overflow-auto">
    <div class="sidebar-menu-container"> 
    <ul class="list-unstyled mt-1">
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../index.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Preface</span></a>
  </div>
</li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a href="../economic-foundations/economic-foundations.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Economic foundations</span></a>
          <a class="sidebar-item-toggle text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-1" role="navigation" aria-expanded="false" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-1" class="collapse list-unstyled sidebar-section depth1 ">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../economic-foundations/preferences.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">1</span>&nbsp; <span class="chapter-title">Preferences</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../economic-foundations/rationality.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">2</span>&nbsp; <span class="chapter-title">Rationality</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../economic-foundations/utility.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">3</span>&nbsp; <span class="chapter-title">Utility</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../economic-foundations/economic-foundation-exercises.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">4</span>&nbsp; <span class="chapter-title">Economic foundation exercises</span></span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a href="../decision-making-under-risk/decision-making-under-risk.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Decision making under risk</span></a>
          <a class="sidebar-item-toggle text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-2" role="navigation" aria-expanded="false" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-2" class="collapse list-unstyled sidebar-section depth1 ">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../decision-making-under-risk/notation-and-mathematical-background.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">5</span>&nbsp; <span class="chapter-title">Notation and mathematical background</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../decision-making-under-risk/expected-value.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">6</span>&nbsp; <span class="chapter-title">Expected value</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../decision-making-under-risk/axioms-for-expected-utility-theory.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">7</span>&nbsp; <span class="chapter-title">Axioms for Expected Utility Theory</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../decision-making-under-risk/expected-utility-theory.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">8</span>&nbsp; <span class="chapter-title">Expected Utility Theory</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../decision-making-under-risk/expected-utility-examples.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">9</span>&nbsp; <span class="chapter-title">Expected utility examples</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../decision-making-under-risk/anomalies-in-expected-utility-theory.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">10</span>&nbsp; <span class="chapter-title">Anomalies in expected utility theory</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../decision-making-under-risk/decision-making-under-risk-exercises.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">11</span>&nbsp; <span class="chapter-title">Decision making under risk exercises</span></span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a href="../prospect-theory/prospect-theory.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Prospect theory</span></a>
          <a class="sidebar-item-toggle text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-3" role="navigation" aria-expanded="false" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-3" class="collapse list-unstyled sidebar-section depth1 ">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../prospect-theory/reference-dependence.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">12</span>&nbsp; <span class="chapter-title">Reference dependence</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../prospect-theory/loss-aversion.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">13</span>&nbsp; <span class="chapter-title">Loss aversion</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../prospect-theory/reflection-effect.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">14</span>&nbsp; <span class="chapter-title">The reflection effect</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../prospect-theory/value-function.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">15</span>&nbsp; <span class="chapter-title">The value function</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../prospect-theory/probability-weighting.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">16</span>&nbsp; <span class="chapter-title">Probability weighting</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../prospect-theory/prospect-theory-implementation.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">17</span>&nbsp; <span class="chapter-title">Prospect theory implementation</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../prospect-theory/prospect-theory-examples.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">18</span>&nbsp; <span class="chapter-title">Prospect theory examples</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../prospect-theory/prospect-theory-applications.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">19</span>&nbsp; <span class="chapter-title">Prospect theory applications</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../prospect-theory/prospect-theory-exercises.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">20</span>&nbsp; <span class="chapter-title">Prospect theory exercises</span></span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a href="../intertemporal-choice/intertemporal-choice.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Intertemporal choice</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-4" role="navigation" aria-expanded="true" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-4" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../intertemporal-choice/exponential-discounting.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">21</span>&nbsp; <span class="chapter-title">Exponential discounting</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../intertemporal-choice/exponential-discounting-examples.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">22</span>&nbsp; <span class="chapter-title">Exponential discounting examples</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../intertemporal-choice/exponential-discounting-anomalies.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">23</span>&nbsp; <span class="chapter-title">Exponential discounting anomalies</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../intertemporal-choice/present-bias.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">24</span>&nbsp; <span class="chapter-title">Present bias</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../intertemporal-choice/present-bias-examples.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">25</span>&nbsp; <span class="chapter-title">Present bias examples</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../intertemporal-choice/sophisticated-present-bias.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">26</span>&nbsp; <span class="chapter-title">Sophisticated present bias</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../intertemporal-choice/commitment.html" class="sidebar-item-text sidebar-link active">
 <span class="menu-text"><span class="chapter-number">27</span>&nbsp; <span class="chapter-title">Commitment</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../intertemporal-choice/preference-over-profiles.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">28</span>&nbsp; <span class="chapter-title">Delayed gratification, spread and variation</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../intertemporal-choice/intertemporal-choice-applications.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">29</span>&nbsp; <span class="chapter-title">Intertemporal choice applications</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../intertemporal-choice/intertemporal-choice-exercises.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">30</span>&nbsp; <span class="chapter-title">Intertemporal choice exercises</span></span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a href="../probability-foundations/probability-foundations.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Probability foundations</span></a>
          <a class="sidebar-item-toggle text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-5" role="navigation" aria-expanded="false" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-5" class="collapse list-unstyled sidebar-section depth1 ">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../probability-foundations/probability-theory.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">31</span>&nbsp; <span class="chapter-title">Probability theory</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../probability-foundations/bayes-rule.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">32</span>&nbsp; <span class="chapter-title">Bayes’ rule</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../probability-foundations/probability-theory-exercises.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">33</span>&nbsp; <span class="chapter-title">Probability theory exercises</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../probability-foundations/subjective-expected-utility.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">34</span>&nbsp; <span class="chapter-title">Subjective expected utility theory</span></span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a href="../heuristics-and-biases/heuristics-and-biases.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Heuristics and biases</span></a>
          <a class="sidebar-item-toggle text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-6" role="navigation" aria-expanded="false" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-6" class="collapse list-unstyled sidebar-section depth1 ">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../heuristics-and-biases/heuristics.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">35</span>&nbsp; <span class="chapter-title">Heuristics</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../heuristics-and-biases/biases-in-probability-judgment.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">36</span>&nbsp; <span class="chapter-title">Biases in probability judgment</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../heuristics-and-biases/heuristics-and-the-bias-variance-trade-off.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">37</span>&nbsp; <span class="chapter-title">Heuristics and the bias-variance trade-off</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../heuristics-and-biases/overconfidence.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">38</span>&nbsp; <span class="chapter-title">Overconfidence</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../heuristics-and-biases/heuristics-and-biases-exercises.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">39</span>&nbsp; <span class="chapter-title">Heuristics and biases exercises</span></span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a href="../game-theory/game-theory.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Game theory</span></a>
          <a class="sidebar-item-toggle text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-7" role="navigation" aria-expanded="false" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-7" class="collapse list-unstyled sidebar-section depth1 ">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../game-theory/simultaneous-move-one-shot-games.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">40</span>&nbsp; <span class="chapter-title">Simultaneous-move one-shot games</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../game-theory/sequential-games.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">41</span>&nbsp; <span class="chapter-title">Sequential games</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../game-theory/asymmetric-information.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">42</span>&nbsp; <span class="chapter-title">Asymmetric information</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../game-theory/strategic-moves-and-commitment.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">43</span>&nbsp; <span class="chapter-title">Strategic moves and commitment</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../game-theory/game-theory-exercises.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">44</span>&nbsp; <span class="chapter-title">Game theory exercises</span></span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a href="../behavioural-game-theory/behavioural-game-theory.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Behavioural game theory</span></a>
          <a class="sidebar-item-toggle text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-8" role="navigation" aria-expanded="false" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-8" class="collapse list-unstyled sidebar-section depth1 ">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../behavioural-game-theory/level-k-thinking.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">45</span>&nbsp; <span class="chapter-title">Level-k thinking</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../behavioural-game-theory/asymmetric-information-and-the-curse-of-knowledge.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">46</span>&nbsp; <span class="chapter-title">Asymmetric information and the curse of knowledge</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../behavioural-game-theory/emotions.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">47</span>&nbsp; <span class="chapter-title">Emotions</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../behavioural-game-theory/behavioural-game-theory-exercises.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">48</span>&nbsp; <span class="chapter-title">Behavioural game theory exercises</span></span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a href="../social-preferences/social-preferences.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Social preferences</span></a>
          <a class="sidebar-item-toggle text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-9" role="navigation" aria-expanded="false" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-9" class="collapse list-unstyled sidebar-section depth1 ">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../social-preferences/distribution.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">49</span>&nbsp; <span class="chapter-title">People care about resource distribution</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../social-preferences/reputation.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">50</span>&nbsp; <span class="chapter-title">Reputation</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../social-preferences/reciprocity.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">51</span>&nbsp; <span class="chapter-title">Reciprocity</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../social-preferences/social-preferences-exercises.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">52</span>&nbsp; <span class="chapter-title">Social preferences exercises</span></span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a href="../practice-problems/practice-problems.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Practice problems</span></a>
          <a class="sidebar-item-toggle text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-10" role="navigation" aria-expanded="false" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-10" class="collapse list-unstyled sidebar-section depth1 ">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../practice-problems/expected-utility-theory-problems.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">53</span>&nbsp; <span class="chapter-title">Expected utility theory problems</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../practice-problems/prospect-theory-problems.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">54</span>&nbsp; <span class="chapter-title">Prospect theory problems</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../practice-problems/intertemporal-choice-problems.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">55</span>&nbsp; <span class="chapter-title">Intertemporal choice problems</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../practice-problems/beliefs-problems.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">56</span>&nbsp; <span class="chapter-title">Beliefs problems</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../practice-problems/behavioural-game-theory-problems.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">57</span>&nbsp; <span class="chapter-title">Behavioural game theory problems</span></span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../references.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">References</span></a>
  </div>
</li>
    </ul>
    </div>
</nav>
<div id="quarto-sidebar-glass" class="quarto-sidebar-collapse-item" data-bs-toggle="collapse" data-bs-target=".quarto-sidebar-collapse-item"></div>
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        <nav id="TOC" role="doc-toc" class="toc-active" data-toc-expanded="1">
    <h2 id="toc-title">On this page</h2>
   
  <ul>
  <li><a href="#summary" id="toc-summary" class="nav-link active" data-scroll-target="#summary">Summary</a></li>
  <li><a href="#introduction" id="toc-introduction" class="nav-link" data-scroll-target="#introduction"><span class="header-section-number">27.1</span> Introduction</a></li>
  <li><a href="#commitment-device" id="toc-commitment-device" class="nav-link" data-scroll-target="#commitment-device"><span class="header-section-number">27.2</span> Commitment device</a></li>
  <li><a href="#commitment-examples" id="toc-commitment-examples" class="nav-link" data-scroll-target="#commitment-examples"><span class="header-section-number">27.3</span> Commitment examples</a>
  <ul class="collapse">
  <li><a href="#forcing-the-optimal-course-of-action" id="toc-forcing-the-optimal-course-of-action" class="nav-link" data-scroll-target="#forcing-the-optimal-course-of-action"><span class="header-section-number">27.3.1</span> Forcing the optimal course of action</a></li>
  <li><a href="#forcing-the-optimal-course-of-action-odysseus" id="toc-forcing-the-optimal-course-of-action-odysseus" class="nav-link" data-scroll-target="#forcing-the-optimal-course-of-action-odysseus"><span class="header-section-number">27.3.2</span> Forcing the optimal course of action: Odysseus</a></li>
  <li><a href="#forcing-the-optimal-course-of-action-lay-by" id="toc-forcing-the-optimal-course-of-action-lay-by" class="nav-link" data-scroll-target="#forcing-the-optimal-course-of-action-lay-by"><span class="header-section-number">27.3.3</span> Forcing the optimal course of action: lay-by</a></li>
  <li><a href="#depressing-the-value-of-the-bad-course-of-action" id="toc-depressing-the-value-of-the-bad-course-of-action" class="nav-link" data-scroll-target="#depressing-the-value-of-the-bad-course-of-action"><span class="header-section-number">27.3.4</span> Depressing the value of the bad course of action</a></li>
  <li><a href="#increasing-the-value-of-the-optimal-action-temptation-bundling" id="toc-increasing-the-value-of-the-optimal-action-temptation-bundling" class="nav-link" data-scroll-target="#increasing-the-value-of-the-optimal-action-temptation-bundling"><span class="header-section-number">27.3.5</span> Increasing the value of the optimal action: temptation bundling</a></li>
  <li><a href="#gym-attendance" id="toc-gym-attendance" class="nav-link" data-scroll-target="#gym-attendance"><span class="header-section-number">27.3.6</span> Gym attendance</a></li>
  </ul></li>
  </ul>
<div class="toc-actions"><ul><li><a href="https://github.com/jasonacollins/behaviouraleconomics/issues/new" class="toc-action"><i class="bi bi-github"></i>Report an issue</a></li></ul></div></nav>
    </div>
<!-- main -->
<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default"><nav class="quarto-page-breadcrumbs quarto-title-breadcrumbs d-none d-lg-block" aria-label="breadcrumb"><ol class="breadcrumb"><li class="breadcrumb-item"><a href="../intertemporal-choice/intertemporal-choice.html">Intertemporal choice</a></li><li class="breadcrumb-item"><a href="../intertemporal-choice/commitment.html"><span class="chapter-number">27</span>&nbsp; <span class="chapter-title">Commitment</span></a></li></ol></nav>
<div class="quarto-title">
<h1 class="title"><span class="chapter-number">27</span>&nbsp; <span class="chapter-title">Commitment</span></h1>
</div>



<div class="quarto-title-meta">

    
  
    
  </div>
  


</header>


<section id="summary" class="level2 unnumbered">
<h2 class="unnumbered anchored" data-anchor-id="summary">Summary</h2>
<ul>
<li>Sophisticated present-biased agents can foresee their future actions. This foresight allows them to use commitment devices - mechanisms that lock them into a course of action by changing the value or availability of future options.</li>
<li>Commitment devices can work through three main channels:
<ul>
<li>Forcing the agent to maintain the optimal course of action.</li>
<li>Depressing the value of the undesired action</li>
<li>Increasing the value of the optimal action</li>
</ul></li>
<li>The following examples illustrate how these commitment devices work in practice:
<ul>
<li>Forcing optimal action: Buying a non-refundable movie ticket, Odysseus tying himself to the mast, and using lay-by schemes.</li>
<li>Depressing the value of bad actions: Using platforms like stickK to impose penalties for failing to meet goals.</li>
<li>Increasing the value of optimal actions: Temptation bundling, such as pairing exercise with audiobooks or massages.</li>
</ul></li>
</ul>
<hr>
<div class="quarto-video ratio ratio-16x9"><iframe data-external="1" src="https://www.youtube.com/embed/FSVi6kKVE3w" title="" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe></div>
<hr>
</section>
<section id="introduction" class="level2" data-number="27.1">
<h2 data-number="27.1" class="anchored" data-anchor-id="introduction"><span class="header-section-number">27.1</span> Introduction</h2>
<p>A sophisticated present-biased agent can foresee their future actions and adjust their decisions today based on their foresight.</p>
<p>This foresight provides an opportunity. By seeing their future selves fail, they can commit themselves to a course of action today that they would not otherwise be able to choose.</p>
</section>
<section id="commitment-device" class="level2" data-number="27.2">
<h2 data-number="27.2" class="anchored" data-anchor-id="commitment-device"><span class="header-section-number">27.2</span> Commitment device</h2>
<p>People often implement the opportunity to commit themselves to a course of action by using a commitment device.</p>
<p>A commitment device is a mechanism that locks you into a course of action by changing the value or availability of future options.</p>
<p>Commitment devices may work through the following channels:</p>
<ul>
<li><p>They may depress the value of the bad course of action.</p></li>
<li><p>They may increase the value of the optimal course of action</p></li>
<li><p>They may force the agent to maintain the optimal course of action.</p></li>
</ul>
</section>
<section id="commitment-examples" class="level2" data-number="27.3">
<h2 data-number="27.3" class="anchored" data-anchor-id="commitment-examples"><span class="header-section-number">27.3</span> Commitment examples</h2>
<p>I will now illustrate those channels with examples.</p>
<section id="forcing-the-optimal-course-of-action" class="level3" data-number="27.3.1">
<h3 data-number="27.3.1" class="anchored" data-anchor-id="forcing-the-optimal-course-of-action"><span class="header-section-number">27.3.1</span> Forcing the optimal course of action</h3>
<p>A sophisticated present-biased agent with <span class="math inline">\beta=0.5</span> and <span class="math inline">\delta=1</span> is choosing between three movies, an OK movie, a good movie, and a great movie. The OK movie would give utility of 6, the good movie would give utility of 10, and the great movie would give utility of 16.</p>
<p>The problem is that only the OK movie is showing today (<span class="math inline">t=0</span>). The good movie is showing next week (<span class="math inline">t=1</span>), and the great movie is showing in two weeks (<span class="math inline">t=2</span>).</p>
<p>The agent has enough money and time to watch only one movie. Should they watch the OK movie today or wait for the good or great movie?</p>
<p>To determine their action, they solve by backward induction.</p>
<p>First, what will their decision be next week?</p>
<span class="math display">\begin{align*}
U_1(1,\text{good})&amp;=u(\text{good}) \\[6pt]
&amp;=10 \\[6pt]
\\[6pt]
U_1(2,\text{great})&amp;=\beta\delta u(\text{great}) \\[6pt]
&amp;=0.5\times 1\times 16 \\[6pt]
&amp;=8
\end{align*}</span>
<p>As <span class="math inline">U_1(1,\text{good})&gt;U_1(2,\text{great})</span>, the sophisticated agent can see that they will choose to watch the good movie immediately.</p>
<p>Knowing this is the case, the sophisticated agent now decides whether they prefer the OK movie today or the good movie next week.</p>
<span class="math display">\begin{align*}
U_0(0,\text{OK})&amp;=u(\text{OK}) \\[6pt]
&amp;=6 \\[6pt]
\\[6pt]
U_0(1,\text{good})&amp;=\beta\delta u(\text{good}) \\[6pt]
&amp;=0.5\times 1\times 10 \\[6pt]
&amp;=5
\end{align*}</span>
<p>As <span class="math inline">U_0(0,\text{OK})&gt;U_0(1,\text{good})</span>, the sophisticated agent prefers the OK movie today.</p>
<p>But when they compare all three options at <span class="math inline">t=0</span>, they would prefer the great movie in two weeks.</p>
<span class="math display">\begin{align*}
U_0(2,\text{great})&amp;=\beta\delta^2 u(\text{great}) \\[6pt]
&amp;=0.5\times 1^2\times 16 \\[6pt]
&amp;=8 \\[6pt]
&amp;\geq 6=U_0(0,\text{OK})
\end{align*}</span>
<p>It is only because they can foresee their future failing after one week that they don’t wait for the great movie.</p>
<p>But what if they could commit themselves today? For example, suppose they could purchase a non-refundable, non-resalable ticket to the great movie in two weeks. The result is that a sophisticated present-biased agent would buy a ticket to the great movie in two weeks and prevent their future self from changing their action.</p>
</section>
<section id="forcing-the-optimal-course-of-action-odysseus" class="level3" data-number="27.3.2">
<h3 data-number="27.3.2" class="anchored" data-anchor-id="forcing-the-optimal-course-of-action-odysseus"><span class="header-section-number">27.3.2</span> Forcing the optimal course of action: Odysseus</h3>
<p>Another example of forcing the agent to maintain the optimal course of action is the story of Odysseus.</p>
<p>Odysseus was required to sail past the sirens at <span class="math inline">t=1</span>. At that time he can either jump off his ship to join the sirens (and die) or sail on past and live, having a great life at <span class="math inline">t=2</span>.</p>
<p>As Odysseus is a sophisticated present-biased agent, he considers what he is likely to do at <span class="math inline">t=1</span>. He realises that he will jump off the ship for the immediate benefit of joining the sirens at the loss of the longer-term discounted benefit of living.</p>
<p>But from the perspective of Odysseus today, at <span class="math inline">t=0</span>, with both the benefits of the sirens and living in the future and therefore discounted, Odysseus would prefer to live. As a result, he decides to commit himself to that course of action by instructing his crew to tie him to the mast (plus leaving his ears unplugged so that he also gets some benefits from the siren song).</p>
</section>
<section id="forcing-the-optimal-course-of-action-lay-by" class="level3" data-number="27.3.3">
<h3 data-number="27.3.3" class="anchored" data-anchor-id="forcing-the-optimal-course-of-action-lay-by"><span class="header-section-number">27.3.3</span> Forcing the optimal course of action: lay-by</h3>
<p>Suppose a quasi-hyperbolic discounting agent with discount factors <span class="math inline">\beta=1/2</span> and <span class="math inline">\delta=1</span> wants a new jacket for work. They need to save for three months to purchase the jacket. But each month they save they forgo consumption that would boost their utility.</p>
<p>They receive the following payoffs for each action:</p>
<table class="caption-top table">
<thead>
<tr class="header">
<th></th>
<th style="text-align: center;">t=0</th>
<th style="text-align: center;">t=1</th>
<th style="text-align: center;">t=2</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>Save</td>
<td style="text-align: center;">0</td>
<td style="text-align: center;">0</td>
<td style="text-align: center;">45</td>
</tr>
<tr class="even">
<td>Spend</td>
<td style="text-align: center;">10</td>
<td style="text-align: center;">10</td>
<td style="text-align: center;">10</td>
</tr>
</tbody>
</table>
<p>First, consider what a naive quasi-hyperbolic discounting agent chooses.</p>
<p>At <span class="math inline">t=0</span>, they calculate the discounted utility of each option.</p>
<span class="math display">\begin{align*}
U_0(\text{Save})&amp;=0+\beta\delta \times 0+\beta\delta^2\times 45 \\[6pt]
&amp;=0.5\times 45 \\[6pt]
&amp;=22.5 \\[6pt]
\\[6pt]
U_0(\text{Spend})&amp;=10+\beta\delta \times 10+\beta\delta^2\times 10 \\[6pt]
&amp;=10+0.5\times 10+0.5\times 10 \\[6pt]
&amp;=20
\end{align*}</span>
<p>At <span class="math inline">t=0</span>, <span class="math inline">U_0(\text{Save})&gt;U_0(\text{Spend})</span>. The agent plans to save for the jacket.</p>
<p>One month now passes. The agent has saved for a month. They could now spend their savings from last month and this month, giving a short-term boost, or keep saving for their jacket. The payoffs for each action are:</p>
<table class="caption-top table">
<thead>
<tr class="header">
<th></th>
<th style="text-align: center;">t=1</th>
<th style="text-align: center;">t=2</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>Save</td>
<td style="text-align: center;">0</td>
<td style="text-align: center;">45</td>
</tr>
<tr class="even">
<td>Start spending at <span class="math inline">t=1</span></td>
<td style="text-align: center;">20</td>
<td style="text-align: center;">10</td>
</tr>
</tbody>
</table>
<p>Again, the naive agent calculates the discounted utility of each option.</p>
<span class="math display">\begin{align*}
U_1(\text{Save})&amp;=0+\beta\delta\times 45 \\[6pt]
&amp;=0.5\times 45 \\[6pt]
&amp;=22.5 \\[6pt]
\\[6pt]
U_1(\text{Start spending at t=1})&amp;=20+\beta\delta \times 10 \\[6pt]
&amp;=20+0.5\times 10 \\[6pt]
&amp;=25
\end{align*}</span>
<p>At <span class="math inline">t=1</span> spending now has the highest discounted utility. After saving for the first period, the agent spends despite initially wanting to save.</p>
<p>Now let’s consider this problem from the point of view of a sophisticated present-biased agent. They see their full choice set as:</p>
<table class="caption-top table">
<thead>
<tr class="header">
<th></th>
<th style="text-align: center;">t=0</th>
<th style="text-align: center;">t=1</th>
<th style="text-align: center;">t=2</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>Save</td>
<td style="text-align: center;">0</td>
<td style="text-align: center;">0</td>
<td style="text-align: center;">45</td>
</tr>
<tr class="even">
<td>Start spending at t=1</td>
<td style="text-align: center;">0</td>
<td style="text-align: center;">20</td>
<td style="text-align: center;">10</td>
</tr>
<tr class="odd">
<td>Spend</td>
<td style="text-align: center;">10</td>
<td style="text-align: center;">10</td>
<td style="text-align: center;">10</td>
</tr>
</tbody>
</table>
<p>The sophisticated agent works backward through time. At <span class="math inline">t=2</span>, if they have saved, the agent will buy the jacket. Otherwise, the agent will spend.</p>
<p>The discounted utility of the options at <span class="math inline">t=1</span> is as follows:</p>
<span class="math display">\begin{align*}
U_1(\text{Save})&amp;=0+\beta\delta\times 45 \\[6pt]
&amp;=0.5\times 45 \\[6pt]
&amp;=22.5 \\[6pt]
\\[6pt]
U_1(\text{Start spending at }t=1)&amp;=20+\beta\delta \times 10 \\[6pt]
&amp;=20+0.5\times 10 \\[6pt]
&amp;=25
\end{align*}</span>
<p>As <span class="math inline">U_1(\text{Start spending at }t=1)&gt;U_1(\text{Save})</span>, the sophisticated agent would spend.</p>
<p>The sophisticated agent now knows that saving for the jacket is not available to them as they will spend at <span class="math inline">t=1</span> regardless of their initial action. There was no need to consider the option to start spending at <span class="math inline">t=0</span> as if they had spent then there is no other choice at <span class="math inline">t=1</span>.</p>
<p>The sophisticated agent now chooses between the two feasible options at <span class="math inline">t=0</span>:</p>
<span class="math display">\begin{align*}
U_0(\text{Start spending at }t=1)&amp;=0+\beta\delta \times 20+\beta\delta^2\times 10 \\[6pt]
&amp;=0.5\times 20+0.5\times 10 \\[6pt]
&amp;=15 \\[6pt]
\\[6pt]
U_0(\text{Spend})&amp;=10+\beta\delta \times 10+\beta\delta^2\times 10 \\[6pt]
&amp;=10+0.5\times 10+0.5\times 10 \\[6pt]
&amp;=20
\end{align*}</span>
<p>As <span class="math inline">U_0(\text{Spend})&lt;U_0(\text{Start spending at }t=1)</span>, they start to spend at <span class="math inline">t=0</span>. Contrast this with the naïve agent who chooses Save at <span class="math inline">t=0</span>.</p>
<p>Now consider what the sophisticated agent may do in the presence of lay-by. Lay-by involves paying a deposit and administrative fee toward the purchase of a product. You receive your purchase when you make payment in full later.</p>
<p>For payment of an administrative fee equivalent to 1 unit of utility and an initial deposit (the agent’s savings in <span class="math inline">t=0</span>), the agent can reserve the jacket, preventing them from spending that money at <span class="math inline">t=2</span>. The new set of options is:</p>
<table class="caption-top table">
<thead>
<tr class="header">
<th></th>
<th style="text-align: center;">t=0</th>
<th style="text-align: center;">t=1</th>
<th style="text-align: center;">t=2</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>Save</td>
<td style="text-align: center;">0</td>
<td style="text-align: center;">0</td>
<td style="text-align: center;">45</td>
</tr>
<tr class="even">
<td>Start spending at t=1</td>
<td style="text-align: center;">0</td>
<td style="text-align: center;">20</td>
<td style="text-align: center;">10</td>
</tr>
<tr class="odd">
<td>Spend</td>
<td style="text-align: center;">10</td>
<td style="text-align: center;">10</td>
<td style="text-align: center;">10</td>
</tr>
<tr class="even">
<td>Lay-by</td>
<td style="text-align: center;">-1</td>
<td style="text-align: center;">0</td>
<td style="text-align: center;">45</td>
</tr>
</tbody>
</table>
<p>The lay-by option is strictly worse than Save. But what happens if lay-by is available to the sophisticated present-biased agent?</p>
<p>Again, working backward, at <span class="math inline">t=2</span>, the agent buys the jacket if they have saved and otherwise spends.</p>
<p>At <span class="math inline">t=1</span>, by the same logic we looked at previously, they spend if they can do so. That eliminates Save from their choice set.</p>
<p>At <span class="math inline">t=0</span>, they now compare the feasible options:</p>
<span class="math display">\begin{align*}
U_0(\text{Start spending at }t=1)&amp;=0+\beta\delta \times 20+\beta\delta^2\times 10 \\[6pt]
&amp;=0.5\times 20+0.5\times 10 \\[6pt]
&amp;=15 \\[6pt]
\\[6pt]
U_0(\text{Spend})&amp;=10+\beta\delta \times 10+\beta\delta^2\times 10 \\[6pt]
&amp;=10+0.5\times 10+0.5\times 10 \\[6pt]
&amp;=20 \\[6pt]
\\[6pt]
U_0(\text{Lay-by})&amp;=-1+\beta\delta \times 0+\beta\delta^2\times 45 \\[6pt]
&amp;=-1+0.5\times 0+0.5\times 45 \\[6pt]
&amp;=21.5
\end{align*}</span>
<p>As <span class="math inline">U_0(\text{Lay-by})&gt;U_0(\text{Spend})&gt;U_0(\text{Start spending at }t=1)</span>, lay-by is the preferred option at <span class="math inline">t=0</span>. As it binds the agent in the future, they can stick to this plan.</p>
<p>Note that lay-by is strictly worse than Save as the agent must pay the administrative fee. But the sophisticated quasi-hyperbolic discounting agent chooses it as the only feasible way to get their jacket. Without lay-by they know they will start spending at <span class="math inline">t=1</span> and end up with lower utility from the perspective of their <span class="math inline">t=0</span> self.</p>
</section>
<section id="depressing-the-value-of-the-bad-course-of-action" class="level3" data-number="27.3.4">
<h3 data-number="27.3.4" class="anchored" data-anchor-id="depressing-the-value-of-the-bad-course-of-action"><span class="header-section-number">27.3.4</span> Depressing the value of the bad course of action</h3>
<p><a href="https://www.stickk.com">stickK</a> is a online platform that enables people to commit to future courses of action. stickK works as follows:</p>
<p>First, you state a time-based goal, such as not smoking during the next month, losing 5kg over the next 90 days, or writing the next chapter of your PhD thesis by Christmas.</p>
<p>Second, you commit a stake that will be paid to a charity (or an anti-charity) if you fail to meet your goal.</p>
<p>At the stated time, you then report (or a referee appointed by you reports) whether you have met your goal. If you fail to report or report that you failed to meet your goal, your credit card is debited by the staked amount.</p>
<p><a href="img/stickk.jpg" class="lightbox" data-gallery="quarto-lightbox-gallery-1"><img src="img/stickk.jpg" class="img-fluid"></a></p>
<p>I used stickK during my PhD. I regularly set deadlines for tasks and staked, say, a payment of $500 to the National Rifle Association. If I didn’t complete the task, I lost the money. Throughout the PhD, I met my benchmarks every time except for one.</p>
<p>To understand how stickK works in the context of the <span class="math inline">\beta\delta</span> model, consider a sophisticated present-biased agent who is weighing the enjoyment they get from smoking versus the long-term health effects.</p>
<p>This sophisticated present-biased agent has <span class="math inline">\beta=1/2</span> and <span class="math inline">\delta=1</span>. They enjoy smoking, which gives them utility of 5. However, the agent also likes being healthy. Higher health gives utility of 8.</p>
<p>At <span class="math inline">t=0</span> the agent is deciding whether to smoke over the next month (<span class="math inline">t=1</span>). If the agent doesn’t smoke, they will have better health at <span class="math inline">t=2</span>.</p>
<p>The sophisticated agent works backward through time. At <span class="math inline">t=1</span> its payoffs are:</p>
<span class="math display">\begin{align*}
U_1(\text{smoking})&amp;=5 \\
\\
U_1(\text{healthy})&amp;=\beta\delta\times 8 \\
&amp;=4
\end{align*}</span>
<p>The agent decides to smoke.</p>
<p>As a result, at <span class="math inline">t=0</span>, knowing that it will cave at <span class="math inline">t=1</span>, the agent doesn’t bother committing to not smoking, even though from the perspective of <span class="math inline">t=0</span> refraining from smoking is the better option:</p>
<span class="math display">\begin{align*}
U_0(\text{smoking})&amp;=\beta\delta\times 5 \\[6pt]
&amp;=2.5 \\[6pt]
\\[6pt]
U_0(\text{healthy})&amp;=\beta\delta^2\times 8 \\[6pt]
&amp;=4
\end{align*}</span>
<p>But now suppose the agent learns about stickK. The agent has the option of staking a sum at <span class="math inline">t=0</span> to prevent it from smoking. The agent decides to stake an amount equivalent to utility 5 that would be incurred at <span class="math inline">t=2</span>.</p>
<p>Working backward through time, the agent knows that at <span class="math inline">t=1</span> if it has not staked any money with stickK, it will smoke. But what if it has?</p>
<span class="math display">\begin{align*}
U_1(\text{stickK+smoking})&amp;=u(\text{smoking})+\beta\delta\times u(\text{lost stake}) \\[6pt]
&amp;=5+\beta\delta\times (-5) \\[6pt]
&amp;=2.5 \\[6pt]
\\[6pt]
U_1(\text{stickK+healthy})&amp;=\beta\delta\times u(\text{healthy}) \\[6pt]
&amp;=\beta\delta\times 8 \\[6pt]
&amp;=4
\end{align*}</span>
<p>The agent would refrain from smoking at <span class="math inline">t=1</span> due to the penalty they would have to pay.</p>
<p>This means the agent’s options at <span class="math inline">t=0</span> are effectively a comparison between smoking and using stickK to commit to not smoking. The discounted utility of each option is as follows.</p>
<span class="math display">\begin{align*}
U_0(\text{smoking})&amp;=\beta\delta\times u(\text{smoking}) \\[6pt]
&amp;=\beta\delta\times 5 \\[6pt]
&amp;=2.5 \\[6pt]
\\[6pt]
U_0(\text{stickK+healthy})&amp;=\beta\delta^2\times u(\text{healthy}) \\[6pt]
&amp;=\beta\delta^2\times 8 \\[6pt]
&amp;=4
\end{align*}</span>
<p>As <span class="math inline">U_0(\text{stickK+healthy})&gt;U_0(\text{smoking})</span>, the agent chooses to commit using stickK.</p>
<p>One interesting feature of these two options at <span class="math inline">t=0</span> is that the penalty does not appear in either calculation of the discounted utility. We have already calculated that if the penalty is present at <span class="math inline">t=1</span>, the agent will not smoke. So when they consider their options at <span class="math inline">t=1</span>, there is no cost to committing.</p>
<p>For any problem of this form, the agent could always successfully use stickK to commit to any action. The agent just needs to make the stake high enough.</p>
</section>
<section id="increasing-the-value-of-the-optimal-action-temptation-bundling" class="level3" data-number="27.3.5">
<h3 data-number="27.3.5" class="anchored" data-anchor-id="increasing-the-value-of-the-optimal-action-temptation-bundling"><span class="header-section-number">27.3.5</span> Increasing the value of the optimal action: temptation bundling</h3>
<p>“Temptation bundling” involves increasing the value of the optimal course of action by adding a temptation to that course.</p>
<p>Consider the following example.</p>
<p>Beth has the choice between exercising and watching television today at <span class="math inline">t=0</span>.</p>
<ul>
<li><p>Beth does not enjoy exercise, which gives utility of 0. However, exercise leads her to be healthy, giving utility of 12 in the future at <span class="math inline">t=1</span>.</p></li>
<li><p>Beth enjoys watching television, which gives utility of 6. However, watching television leads her to be unhealthy with utility of 0 in the future at <span class="math inline">t=1</span>.</p></li>
</ul>
<p>Beth is sophisticated and discounts the future quasi-hyperbolically. Beth’s <span class="math inline">\beta=1/2</span> and her <span class="math inline">\delta=2/3</span>. Does Beth exercise?</p>
<p>Beth works through the options by backward induction. At <span class="math inline">t=1</span> there is no choice to be made, as Beth simply enjoys the utility of the action she chose at <span class="math inline">t=0</span>.</p>
<p>For <span class="math inline">t=0</span> she calculates the discounted utility of each option as follows:</p>
<span class="math display">\begin{align*}
U_0(\text{exercise})&amp;=u(\text{exercise})+\beta\delta u(\text{healthy}) \\[6pt]
&amp;=0+\frac{1}{2}\times \frac{2}{3}\times 12 \\[6pt]
&amp;=4 \\[6pt]
\\[6pt]
U_0(\text{television})&amp;=u(\text{television})+\beta\delta u(\text{unhealthy}) \\[6pt]
&amp;=6+\frac{1}{2}\times \frac{2}{3}\times 0 \\[6pt]
&amp;=6
\end{align*}</span>
<p>Beth chooses to watch television.</p>
<p>But what if Beth loved massages and remembers she has a massage voucher she has been saving? What if she decides that if she exercises today, she will go for a massage straight after? Let us assume that the utility of a massage is 3.</p>
<p>The discounted utility of exercising is now:</p>
<span class="math display">\begin{align*}
U_0(\text{exercise+massage})&amp;=u(\text{exercise})+u(\text{massage})\\[6pt]
&amp;\qquad+\beta\delta u(\text{healthy}) \\[6pt]
&amp;=3+\frac{1}{2}\times \frac{2}{3}\times 12 \\[6pt]
&amp;=7
\end{align*}</span>
<p><span class="math inline">U_0(\text{exercise+massage})&gt;U_0(\text{television})</span>, so Beth now chooses to exercise.</p>
<p>This example is not strictly a commitment device as Beth could cheat. Beth could watch television and get the massage. But people are often good at creating “mental accounts” by which they make certain money or activities out-of-bounds unless certain conditions are met.</p>
</section>
<section id="gym-attendance" class="level3" data-number="27.3.6">
<h3 data-number="27.3.6" class="anchored" data-anchor-id="gym-attendance"><span class="header-section-number">27.3.6</span> Gym attendance</h3>
<p>One empirical illustration of temptation bundling comes from an experiment to increase gym attendance.</p>
<p><span class="citation" data-cites="kirgios2020">Kirgios et al. (<a href="../references.html#ref-kirgios2020" role="doc-biblioref">2020</a>)</span> found that teaching gym-goers how to temptation bundle with a free audiobook boosts gym visits. Simply receiving a free audiobook with no explicit instruction boosts exercise, implying that people who are given audiobooks by gyms can infer they should temptation bundle. However, teaching temptation bundling modestly outperforms simply giving gym-goers free audiobooks.</p>


<div id="refs" class="references csl-bib-body hanging-indent" data-entry-spacing="0" data-line-spacing="2" role="list" style="display: none">
<div id="ref-kirgios2020" class="csl-entry" role="listitem">
Kirgios, E. L., Mandel, G. H., Park, Y., Milkman, K. L., Gromet, D. M., Kay, J. S., and Duckworth, A. L. (2020). Teaching temptation bundling to boost exercise: A field experiment. <em>Organizational Behavior and Human Decision Processes</em>, <em>161</em>, 20–35. <a href="https://doi.org/10.1016/j.obhdp.2020.09.003">https://doi.org/10.1016/j.obhdp.2020.09.003</a>
</div>
</div>
</section>
</section>

</main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
  window.document.addEventListener("DOMContentLoaded", function (event) {
    const icon = "";
    const anchorJS = new window.AnchorJS();
    anchorJS.options = {
      placement: 'right',
      icon: icon
    };
    anchorJS.add('.anchored');
    const isCodeAnnotation = (el) => {
      for (const clz of el.classList) {
        if (clz.startsWith('code-annotation-')) {                     
          return true;
        }
      }
      return false;
    }
    const onCopySuccess = function(e) {
      // button target
      const button = e.trigger;
      // don't keep focus
      button.blur();
      // flash "checked"
      button.classList.add('code-copy-button-checked');
      var currentTitle = button.getAttribute("title");
      button.setAttribute("title", "Copied!");
      let tooltip;
      if (window.bootstrap) {
        button.setAttribute("data-bs-toggle", "tooltip");
        button.setAttribute("data-bs-placement", "left");
        button.setAttribute("data-bs-title", "Copied!");
        tooltip = new bootstrap.Tooltip(button, 
          { trigger: "manual", 
            customClass: "code-copy-button-tooltip",
            offset: [0, -8]});
        tooltip.show();    
      }
      setTimeout(function() {
        if (tooltip) {
          tooltip.hide();
          button.removeAttribute("data-bs-title");
          button.removeAttribute("data-bs-toggle");
          button.removeAttribute("data-bs-placement");
        }
        button.setAttribute("title", currentTitle);
        button.classList.remove('code-copy-button-checked');
      }, 1000);
      // clear code selection
      e.clearSelection();
    }
    const getTextToCopy = function(trigger) {
        const codeEl = trigger.previousElementSibling.cloneNode(true);
        for (const childEl of codeEl.children) {
          if (isCodeAnnotation(childEl)) {
            childEl.remove();
          }
        }
        return codeEl.innerText;
    }
    const clipboard = new window.ClipboardJS('.code-copy-button:not([data-in-quarto-modal])', {
      text: getTextToCopy
    });
    clipboard.on('success', onCopySuccess);
    if (window.document.getElementById('quarto-embedded-source-code-modal')) {
      const clipboardModal = new window.ClipboardJS('.code-copy-button[data-in-quarto-modal]', {
        text: getTextToCopy,
        container: window.document.getElementById('quarto-embedded-source-code-modal')
      });
      clipboardModal.on('success', onCopySuccess);
    }
      var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
      var mailtoRegex = new RegExp(/^mailto:/);
        var filterRegex = new RegExp("https:\/\/behaviouraleconomics\.jasoncollins\.blog");
      var isInternal = (href) => {
          return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
      }
      // Inspect non-navigation links and adorn them if external
     var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool):not(.about-link)');
      for (var i=0; i<links.length; i++) {
        const link = links[i];
        if (!isInternal(link.href)) {
          // undo the damage that might have been done by quarto-nav.js in the case of
          // links that we want to consider external
          if (link.dataset.originalHref !== undefined) {
            link.href = link.dataset.originalHref;
          }
            // target, if specified
            link.setAttribute("target", "_blank");
            if (link.getAttribute("rel") === null) {
              link.setAttribute("rel", "noopener");
            }
        }
      }
    function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
      const config = {
        allowHTML: true,
        maxWidth: 500,
        delay: 100,
        arrow: false,
        appendTo: function(el) {
            return el.parentElement;
        },
        interactive: true,
        interactiveBorder: 10,
        theme: 'quarto',
        placement: 'bottom-start',
      };
      if (contentFn) {
        config.content = contentFn;
      }
      if (onTriggerFn) {
        config.onTrigger = onTriggerFn;
      }
      if (onUntriggerFn) {
        config.onUntrigger = onUntriggerFn;
      }
      window.tippy(el, config); 
    }
    const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
    for (var i=0; i<noterefs.length; i++) {
      const ref = noterefs[i];
      tippyHover(ref, function() {
        // use id or data attribute instead here
        let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
        try { href = new URL(href).hash; } catch {}
        const id = href.replace(/^#\/?/, "");
        const note = window.document.getElementById(id);
        if (note) {
          return note.innerHTML;
        } else {
          return "";
        }
      });
    }
    const xrefs = window.document.querySelectorAll('a.quarto-xref');
    const processXRef = (id, note) => {
      // Strip column container classes
      const stripColumnClz = (el) => {
        el.classList.remove("page-full", "page-columns");
        if (el.children) {
          for (const child of el.children) {
            stripColumnClz(child);
          }
        }
      }
      stripColumnClz(note)
      if (id === null || id.startsWith('sec-')) {
        // Special case sections, only their first couple elements
        const container = document.createElement("div");
        if (note.children && note.children.length > 2) {
          container.appendChild(note.children[0].cloneNode(true));
          for (let i = 1; i < note.children.length; i++) {
            const child = note.children[i];
            if (child.tagName === "P" && child.innerText === "") {
              continue;
            } else {
              container.appendChild(child.cloneNode(true));
              break;
            }
          }
          if (window.Quarto?.typesetMath) {
            window.Quarto.typesetMath(container);
          }
          return container.innerHTML
        } else {
          if (window.Quarto?.typesetMath) {
            window.Quarto.typesetMath(note);
          }
          return note.innerHTML;
        }
      } else {
        // Remove any anchor links if they are present
        const anchorLink = note.querySelector('a.anchorjs-link');
        if (anchorLink) {
          anchorLink.remove();
        }
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(note);
        }
        if (note.classList.contains("callout")) {
          return note.outerHTML;
        } else {
          return note.innerHTML;
        }
      }
    }
    for (var i=0; i<xrefs.length; i++) {
      const xref = xrefs[i];
      tippyHover(xref, undefined, function(instance) {
        instance.disable();
        let url = xref.getAttribute('href');
        let hash = undefined; 
        if (url.startsWith('#')) {
          hash = url;
        } else {
          try { hash = new URL(url).hash; } catch {}
        }
        if (hash) {
          const id = hash.replace(/^#\/?/, "");
          const note = window.document.getElementById(id);
          if (note !== null) {
            try {
              const html = processXRef(id, note.cloneNode(true));
              instance.setContent(html);
            } finally {
              instance.enable();
              instance.show();
            }
          } else {
            // See if we can fetch this
            fetch(url.split('#')[0])
            .then(res => res.text())
            .then(html => {
              const parser = new DOMParser();
              const htmlDoc = parser.parseFromString(html, "text/html");
              const note = htmlDoc.getElementById(id);
              if (note !== null) {
                const html = processXRef(id, note);
                instance.setContent(html);
              } 
            }).finally(() => {
              instance.enable();
              instance.show();
            });
          }
        } else {
          // See if we can fetch a full url (with no hash to target)
          // This is a special case and we should probably do some content thinning / targeting
          fetch(url)
          .then(res => res.text())
          .then(html => {
            const parser = new DOMParser();
            const htmlDoc = parser.parseFromString(html, "text/html");
            const note = htmlDoc.querySelector('main.content');
            if (note !== null) {
              // This should only happen for chapter cross references
              // (since there is no id in the URL)
              // remove the first header
              if (note.children.length > 0 && note.children[0].tagName === "HEADER") {
                note.children[0].remove();
              }
              const html = processXRef(null, note);
              instance.setContent(html);
            } 
          }).finally(() => {
            instance.enable();
            instance.show();
          });
        }
      }, function(instance) {
      });
    }
        let selectedAnnoteEl;
        const selectorForAnnotation = ( cell, annotation) => {
          let cellAttr = 'data-code-cell="' + cell + '"';
          let lineAttr = 'data-code-annotation="' +  annotation + '"';
          const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
          return selector;
        }
        const selectCodeLines = (annoteEl) => {
          const doc = window.document;
          const targetCell = annoteEl.getAttribute("data-target-cell");
          const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
          const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
          const lines = annoteSpan.getAttribute("data-code-lines").split(",");
          const lineIds = lines.map((line) => {
            return targetCell + "-" + line;
          })
          let top = null;
          let height = null;
          let parent = null;
          if (lineIds.length > 0) {
              //compute the position of the single el (top and bottom and make a div)
              const el = window.document.getElementById(lineIds[0]);
              top = el.offsetTop;
              height = el.offsetHeight;
              parent = el.parentElement.parentElement;
            if (lineIds.length > 1) {
              const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
              const bottom = lastEl.offsetTop + lastEl.offsetHeight;
              height = bottom - top;
            }
            if (top !== null && height !== null && parent !== null) {
              // cook up a div (if necessary) and position it 
              let div = window.document.getElementById("code-annotation-line-highlight");
              if (div === null) {
                div = window.document.createElement("div");
                div.setAttribute("id", "code-annotation-line-highlight");
                div.style.position = 'absolute';
                parent.appendChild(div);
              }
              div.style.top = top - 2 + "px";
              div.style.height = height + 4 + "px";
              div.style.left = 0;
              let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
              if (gutterDiv === null) {
                gutterDiv = window.document.createElement("div");
                gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
                gutterDiv.style.position = 'absolute';
                const codeCell = window.document.getElementById(targetCell);
                const gutter = codeCell.querySelector('.code-annotation-gutter');
                gutter.appendChild(gutterDiv);
              }
              gutterDiv.style.top = top - 2 + "px";
              gutterDiv.style.height = height + 4 + "px";
            }
            selectedAnnoteEl = annoteEl;
          }
        };
        const unselectCodeLines = () => {
          const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
          elementsIds.forEach((elId) => {
            const div = window.document.getElementById(elId);
            if (div) {
              div.remove();
            }
          });
          selectedAnnoteEl = undefined;
        };
          // Handle positioning of the toggle
      window.addEventListener(
        "resize",
        throttle(() => {
          elRect = undefined;
          if (selectedAnnoteEl) {
            selectCodeLines(selectedAnnoteEl);
          }
        }, 10)
      );
      function throttle(fn, ms) {
      let throttle = false;
      let timer;
        return (...args) => {
          if(!throttle) { // first call gets through
              fn.apply(this, args);
              throttle = true;
          } else { // all the others get throttled
              if(timer) clearTimeout(timer); // cancel #2
              timer = setTimeout(() => {
                fn.apply(this, args);
                timer = throttle = false;
              }, ms);
          }
        };
      }
        // Attach click handler to the DT
        const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
        for (const annoteDlNode of annoteDls) {
          annoteDlNode.addEventListener('click', (event) => {
            const clickedEl = event.target;
            if (clickedEl !== selectedAnnoteEl) {
              unselectCodeLines();
              const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
              if (activeEl) {
                activeEl.classList.remove('code-annotation-active');
              }
              selectCodeLines(clickedEl);
              clickedEl.classList.add('code-annotation-active');
            } else {
              // Unselect the line
              unselectCodeLines();
              clickedEl.classList.remove('code-annotation-active');
            }
          });
        }
    const findCites = (el) => {
      const parentEl = el.parentElement;
      if (parentEl) {
        const cites = parentEl.dataset.cites;
        if (cites) {
          return {
            el,
            cites: cites.split(' ')
          };
        } else {
          return findCites(el.parentElement)
        }
      } else {
        return undefined;
      }
    };
    var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
    for (var i=0; i<bibliorefs.length; i++) {
      const ref = bibliorefs[i];
      const citeInfo = findCites(ref);
      if (citeInfo) {
        tippyHover(citeInfo.el, function() {
          var popup = window.document.createElement('div');
          citeInfo.cites.forEach(function(cite) {
            var citeDiv = window.document.createElement('div');
            citeDiv.classList.add('hanging-indent');
            citeDiv.classList.add('csl-entry');
            var biblioDiv = window.document.getElementById('ref-' + cite);
            if (biblioDiv) {
              citeDiv.innerHTML = biblioDiv.innerHTML;
            }
            popup.appendChild(citeDiv);
          });
          return popup.innerHTML;
        });
      }
    }
  });
  </script>
<nav class="page-navigation">
  <div class="nav-page nav-page-previous">
      <a href="../intertemporal-choice/sophisticated-present-bias.html" class="pagination-link" aria-label="Sophisticated present bias">
        <i class="bi bi-arrow-left-short"></i> <span class="nav-page-text"><span class="chapter-number">26</span>&nbsp; <span class="chapter-title">Sophisticated present bias</span></span>
      </a>          
  </div>
  <div class="nav-page nav-page-next">
      <a href="../intertemporal-choice/preference-over-profiles.html" class="pagination-link" aria-label="Delayed gratification, spread and variation">
        <span class="nav-page-text"><span class="chapter-number">28</span>&nbsp; <span class="chapter-title">Delayed gratification, spread and variation</span></span> <i class="bi bi-arrow-right-short"></i>
      </a>
  </div>
</nav>
</div> <!-- /content -->
<footer class="footer">
  <div class="nav-footer">
    <div class="nav-footer-left">
      &nbsp;
    </div>   
    <div class="nav-footer-center">
      <ul class="footer-items list-unstyled">
    <li class="nav-item">
    <a class="nav-link" href="https://creativecommons.org/licenses/by/4.0/">
<p>Copyright: CC-BY</p>
</a>
  </li>  
</ul>
    <div class="toc-actions d-sm-block d-md-none"><ul><li><a href="https://github.com/jasonacollins/behaviouraleconomics/issues/new" class="toc-action"><i class="bi bi-github"></i>Report an issue</a></li></ul></div></div>
    <div class="nav-footer-right">
      &nbsp;
    </div>
  </div>
</footer>
<script>var lightboxQuarto = GLightbox({"closeEffect":"zoom","descPosition":"bottom","loop":false,"openEffect":"zoom","selector":".lightbox"});
(function() {
  let previousOnload = window.onload;
  window.onload = () => {
    if (previousOnload) {
      previousOnload();
    }
    lightboxQuarto.on('slide_before_load', (data) => {
      const { slideIndex, slideNode, slideConfig, player, trigger } = data;
      const href = trigger.getAttribute('href');
      if (href !== null) {
        const imgEl = window.document.querySelector(`a[href="${href}"] img`);
        if (imgEl !== null) {
          const srcAttr = imgEl.getAttribute("src");
          if (srcAttr && srcAttr.startsWith("data:")) {
            slideConfig.href = srcAttr;
          }
        }
      } 
    });
  
    lightboxQuarto.on('slide_after_load', (data) => {
      const { slideIndex, slideNode, slideConfig, player, trigger } = data;
      if (window.Quarto?.typesetMath) {
        window.Quarto.typesetMath(slideNode);
      }
    });
  
  };
  
})();
          </script>




</body></html>